[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Enabling Analysis in the Cloud Using NASA Earth Science Data",
    "section": "",
    "text": "Welcome to the 2023 NASA Openscapes AGU Workshop hosted by NASA Openscapes!\nThe workshop will take place in person and virtually at AGU on Sunday, December 10, 2023 from 1pm-4:30pm PST (UTC-7)."
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "Enabling Analysis in the Cloud Using NASA Earth Science Data",
    "section": "",
    "text": "Welcome to the 2023 NASA Openscapes AGU Workshop hosted by NASA Openscapes!\nThe workshop will take place in person and virtually at AGU on Sunday, December 10, 2023 from 1pm-4:30pm PST (UTC-7)."
  },
  {
    "objectID": "index.html#about",
    "href": "index.html#about",
    "title": "Enabling Analysis in the Cloud Using NASA Earth Science Data",
    "section": "About",
    "text": "About\n\nWorkshop Goals\n\nProvide an inclusive place to learn about and experience working with NASA Earthdata Cloud;\nProvide strategies and best practices for finding and accessing NASA Earthdata Cloud data to help promote interdisciplinary research. Specifically, participants will learn how to access data from AWS S3 buckets and have a better understanding of the Python ecosystem used to analyze the data depending on size and data formats;\nBetter understand the needs of Earthdata data scientists by providing a pre/post survey and engaging in discussions with workshop participants;\nIdentify and practice using popular open source tools and utilities.\n\n\n\nWorkshop Description\nEarth science data, including NASA Earthdata, is increasingly more available from the cloud. By leveraging cloud compute resources, open science principles, and technologies that foster transparency and reproducibility, science can be done at rates and scales that are not achievable by using personal/local machines. Building modern data skills in a friendly environment is crucial for accelerating science and reducing barriers to inclusive scientific research. In this workshop, NASA Openscapes Mentors from NASA’s Earth Observing System Data and Information System (EOSDIS) DAACs (data centers) will teach the foundations of an open science mindset and apply these concepts to work in the cloud with NASA Earthdata. Participants will take part in hands-on tutorials using a JupyterHub managed by 2i2c in AWS. Participants will leave with a better understanding of how to leverage data and services from NASA Earthdata Cloud within their work across a variety of disciplines and data types, as well as how to apply the concepts of open science as a daily practice. The workshop will encourage discussion and reflection on how Earth science is evolving. Tutorials will be taught in Python. The target audience is anyone interested in using NASA Earth Science data within the AWS cloud. Previous experience in the AWS cloud is not necessary. Experience using Python is recommended but not required.\n\n\nLearning Outcomes\nUpon completion of the proposed workshop, participants will leave with a better understanding of how NASA Earthdata Cloud data and services can best be leveraged and integrated within their work across a variety of disciplines and data types, while being exposed to open science practices and workflows in Python. Participants will be engaged on two different levels: (1) through an open science mindset, and (2) through science use cases that demonstrate capabilities for efficient data discovery, access, and use within the cloud. These learning objectives will encourage discussion and reflection on how the Earth science, data science, and informatics communities are evolving, and how this evolution presents challenges and opportunities in scientific research."
  },
  {
    "objectID": "index.html#acknowledgements",
    "href": "index.html#acknowledgements",
    "title": "Enabling Analysis in the Cloud Using NASA Earth Science Data",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nThis Workshop has been developed as a cross-DAAC collaboration by the NASA-Openscapes Team. Learn more at nasa-openscapes.github.io."
  },
  {
    "objectID": "slides.html",
    "href": "slides.html",
    "title": "Workshop Slides",
    "section": "",
    "text": "TODO: embed slides"
  },
  {
    "objectID": "slides.html#enabling-analysis-in-the-cloud-using-nasa-earth-science-data",
    "href": "slides.html#enabling-analysis-in-the-cloud-using-nasa-earth-science-data",
    "title": "Workshop Slides",
    "section": "",
    "text": "TODO: embed slides"
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html",
    "title": "Data discovery with earthaccess",
    "section": "",
    "text": "In this example we will use the earthaccess library to search for data collections from NASA Earthdata. earthaccess is a Python library that simplifies data discovery and access to NASA Earth science data by providing an abstraction layer for NASA’s Common Metadata Repository (CMR) API Search API. The library makes searching for data more approachable by using a simpler notation instead of low level HTTP queries. earthaccess takes the trouble out of Earthdata Login authentication, makes search easier, and provides a stream-line way to download or stream search results into an xarray object."
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html#summary",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html#summary",
    "title": "Data discovery with earthaccess",
    "section": "",
    "text": "In this example we will use the earthaccess library to search for data collections from NASA Earthdata. earthaccess is a Python library that simplifies data discovery and access to NASA Earth science data by providing an abstraction layer for NASA’s Common Metadata Repository (CMR) API Search API. The library makes searching for data more approachable by using a simpler notation instead of low level HTTP queries. earthaccess takes the trouble out of Earthdata Login authentication, makes search easier, and provides a stream-line way to download or stream search results into an xarray object."
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html#prerequisites",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html#prerequisites",
    "title": "Data discovery with earthaccess",
    "section": "Prerequisites",
    "text": "Prerequisites\nAn Earthdata Login account is required to access data from NASA Earthdata. Please visit https://urs.earthdata.nasa.gov to register and manage your Earthdata Login account. This account is free to create and only takes a moment to set up."
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html#learning-objectives",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html#learning-objectives",
    "title": "Data discovery with earthaccess",
    "section": "Learning Objectives",
    "text": "Learning Objectives\n\nHow to authenticate with earthaccess\nHow to use earthaccess to search for data using spatial and temporal filters\nHow to explore and work with search results"
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html#get-started",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html#get-started",
    "title": "Data discovery with earthaccess",
    "section": "Get Started",
    "text": "Get Started\n\nImport Required Packages\n\nimport earthaccess \nfrom pprint import pprint\nimport xarray as xr\nimport geopandas as gpd\n\n\n\nAuthentication for NASA Earthdata\nWe will start by authenticating using our Earthdata Login credentials. Authentication is not necessarilly needed to search for publically available data collections in Earthdata, but is always need to download or access data from the NASA Earthdata archives. We can use login method from the earthaccess library here. This will create a authenticated session using our Earthdata Login credential. Our credentials can be passed along via environmental variables or by a .netrc file save in the home/user profile directory. If your credentials are not available in either location, we will be prompt to input our credentials and a .netrc will be created and saved for us.\n\nauth = earthaccess.login()\n# are we authenticated?\nif not auth.authenticated:\n    # ask for credentials and persist them in a .netrc file\n    auth.login(strategy=\"interactive\", persist=True)\n\nEARTHDATA_USERNAME and EARTHDATA_PASSWORD are not set in the current environment, try setting them or use a different strategy (netrc, interactive)\nYou're now authenticated with NASA Earthdata Login\nUsing token with expiration date: 11/27/2023\nUsing .netrc file for EDL\n\n\n\n\nSearch for data\nThere are multiple keywords we can use to discovery data from collections. The table below contains the short_name, concept_id, and doi for some collections we are interested in for other exercises. Each of these can be used to search for data or information related to the collection we are interested in.\n\n\n\nShortname\nCollection Concept ID\nDOI\n\n\n\n\nGPM_3IMERGDF\nC2723754864-GES_DISC\n10.5067/GPM/IMERGDF/DAY/07\n\n\nMOD10C1\nC1646609808-NSIDC_ECS\n10.5067/MODIS/MOD10C1.061\n\n\nSPL4SMGP\nC2531308461-NSIDC_ECS\n10.5067/EVKPQZ4AFC4D\n\n\nSPL4SMAU\nC2537927247-NSIDC_ECS\n10.5067/LWJ6TF5SZRG3\n\n\n\n add Earthdata search/cmr search walkthrough\n investigate if there is a keyword search for collections…precip\n\nSearch by collection\n\nQuery = earthaccess.collection_query().keyword('precip*')\n\nprint(f'Collections found: {Query.hits()}')\n\nCollections found: 1498\n\n\n\ncollections = Query.fields(['ShortName','DOI','Abstract']).get_all()\n# Inspect 3 results printing just the ShortName and Abstract\ncollections[0]\n\n{\n  \"meta\": {\n    \"concept-id\": \"C2368306937-GES_DISC\",\n    \"granule-count\": 38593,\n    \"provider-id\": \"GES_DISC\"\n  },\n  \"umm\": {\n    \"ShortName\": \"PRECIP_GMI_GPM\",\n    \"DOI\": {\n      \"DOI\": \"10.5067/MEASURES/GPM/GMI/DATA201\"\n    },\n    \"Abstract\": \"The data presented in this level 2 orbital product are rain rate estimates expressed as mm/hour determined from brightness temperatures (Tbs) obtained from the Global Precipitation Measurement (GPM) Microwave Imager (GMI) flown on the GPM satellite. Most of the products generated in this data set are based upon the algorithms developed for the 3rd Algorithm Intercomparison Project (AIP-3) of the Global Precipitation Climatology Project (GPCP).  Details of these 15 algorithms and development of a quality score which is a measure of confidence in the estimate, along with processing and algorithmic flags, can be found in the Algorithm Theoretical Basis Document  (ATBD).  The data in this product cover the period from 2014 to 2020 with one file per orbit.\"\n  }\n}\n\n\n\ncollection_id = 'C2723754864-GES_DISC'\n\n\nresults = earthaccess.search_data(\n    concept_id = collection_id,\n    cloud_hosted = True,\n    count = 10    # Restricting to 10 records returned\n)\n\nGranules found: 8400\n\n\nIn this example we used the concept_id parameter to search from our desired collection. However, there are multiple ways to specify the collection(s) we are interested in. Alternative parameters include:\n\ndoi - request collection by digital object indentifier (e.g., doi = ‘10.5067/GPM/IMERGDF/DAY/07’)\n\nshort_name - request collection by CMR shortname (e.g., short_name = ‘GPM_3IMERGDF’)\n\nNOTE: Each Earthdata collect has a unique concept_id and doi. This is not the case with short_name. A shortname can be associated with multiple versions of a collection. If multiple versions of a collection are publically available, using the short_name parameter with return all versions available. It is advised to use the version parameter in conjuction with the short_name parameter with searching.\nWe can refine our search by passing more parameters that describe the spatiotemporal domain of our use case. Here, we use the temporal parameter to request a date range and the bounding_box parameter to request granules that intersect with a bounding box.\nFor our bounding box, we are going to read in a GeoJSON file containing a single feature and extract the coordinate pairs for the southeast corner and the northwest corner (or lowerleft and upperright corners) of the bounding box around the feature.\n\ninGeojson = gpd.read_file('../../2023-Cloud-Workshop-AGU/data/sf_to_sierranvmt.geojson')\n\n\nxmin, ymin, xmax, ymax = inGeojson.total_bounds\n\nWe will assign our start date and end date to a varialbe named date_range and we’ll assign the southeast and the northwest corner coordinates to a variable named bbox to be passed to our earthaccess search request.\n\ndate_range = (\"2022-11-19\", \"2023-04-06\")\n#bbox = (-127.0761, 31.6444, -113.9039, 42.6310)\nbbox = (xmin, ymin, xmax, ymax)\n\n\nresults = earthaccess.search_data(\n    concept_id = collection_id,\n    cloud_hosted = True,\n    temporal = date_range,\n    bounding_box = bbox,\n)\n\nGranules found: 139\n\n\n\nThe short_name and concept_id search parameters can be used to request one or multiple collections per request, but the doi parameter can only request a single collection.\n&gt; concept_ids = [‘C2723754864-GES_DISC’, ‘C1646609808-NSIDC_ECS’]\n\nUse the cloud_hosted search parameter only to search for data assets available from NASA’s Earthdata Cloud.\nThere are even more search parameters that can be passed to help refine our search, however those parameters do have to be populated in the CMR record to be leveraged. A non exhaustive list of examples are below:\n\nday_night_flag = 'day'\n\ncloud_cover = (0, 10)\n\n\n\n# col_ids = ['C2723754864-GES_DISC', 'C1646609808-NSIDC_ECS', 'C2531308461-NSIDC_ECS', 'C2537927247-NSIDC_ECS']    # Specify a list of collections to pass to the search\n\n# results = earthaccess.search_data(\n#     concept_id = col_ids,\n#     #cloud_hosted = True,\n#     temporal = date_range,\n#     bounding_box = bbox,\n# )\n\n\n\n\nWorking with earthaccess returns\nearthaccess provides several convienence methods to help streamline processes that historically have be painful when done using traditional methods. Following the search for data, you’ll likely take one of two pathways with those results. You may choose to download the assets that have been returned to you or you may choose to continue working with the search results within the Python environment.\n\nDownload earthaccess results\nIn some cases you may want to download your assets. earthaccess makes downloading the data from the search results very easy using the earthaccess.download() function.\n\ndownloaded_files = earthaccess.download(\n    results[0:9],\n    local_path='../../2023-Cloud-Workshop-AGU/data',\n)\n\n Getting 9 granules, approx download size: 0.25 GB\nFile 3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221121-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221120-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221122-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221123-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221125-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221126-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221124-S000000-E235959.V07.nc4 already downloaded\nFile 3B-DAY.MS.MRG.3IMERG.20221127-S000000-E235959.V07.nc4 already downloaded\n\n\n\n\n\n\n\n\n\n\n\nThat was easy! earthaccess did a lot of heavy lifting for us. It identified the downloadable links, passed our Earthdata Login credentials, and save off the file with the proper name.\n\n\nExplore earthaccess search response\n\nprint(f'The results variable is a {type(results)} of {type(results[0])}')\n\nThe results variable is a &lt;class 'list'&gt; of &lt;class 'earthaccess.results.DataGranule'&gt;\n\n\n\nlen(results)\n\n139\n\n\nWe can explore the first item (earthaccess.results.DataGranule) in our list.\n\nitem = results[0]\ntype(item)\n\nearthaccess.results.DataGranule\n\n\nEach item contains three keys that can be used to explore the item\n\nitem.keys()\n\ndict_keys(['meta', 'umm', 'size'])\n\n\n\nitem['umm']\n\n{'RelatedUrls': [{'URL': 'https://data.gesdisc.earthdata.nasa.gov/data/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n   'Type': 'GET DATA',\n   'Description': 'Download 3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4'},\n  {'URL': 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n   'Type': 'GET DATA VIA DIRECT ACCESS',\n   'Description': 'This link provides direct download access via S3 to the granule'},\n  {'URL': 'https://gpm1.gesdisc.eosdis.nasa.gov/opendap/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n   'Type': 'USE SERVICE API',\n   'Subtype': 'OPENDAP DATA',\n   'Description': 'The OPENDAP location for the granule.',\n   'MimeType': 'application/x-netcdf-4'},\n  {'URL': 'https://data.gesdisc.earthdata.nasa.gov/s3credentials',\n   'Type': 'VIEW RELATED INFORMATION',\n   'Description': 'api endpoint to retrieve temporary credentials valid for same-region direct s3 access'}],\n 'SpatialExtent': {'HorizontalSpatialDomain': {'Geometry': {'BoundingRectangles': [{'WestBoundingCoordinate': -180.0,\n      'EastBoundingCoordinate': 180.0,\n      'NorthBoundingCoordinate': 90.0,\n      'SouthBoundingCoordinate': -90.0}]}}},\n 'ProviderDates': [{'Date': '2023-08-25T14:06:33.000Z', 'Type': 'Insert'},\n  {'Date': '2023-08-25T14:06:33.000Z', 'Type': 'Update'}],\n 'CollectionReference': {'ShortName': 'GPM_3IMERGDF', 'Version': '07'},\n 'DataGranule': {'DayNightFlag': 'Unspecified',\n  'Identifiers': [{'Identifier': '3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n    'IdentifierType': 'ProducerGranuleId'}],\n  'ProductionDateTime': '2023-08-25T14:06:33.000Z',\n  'ArchiveAndDistributionInformation': [{'Name': 'Not provided',\n    'Size': 28.37006378173828,\n    'SizeUnit': 'MB'}]},\n 'TemporalExtent': {'RangeDateTime': {'BeginningDateTime': '2022-11-19T00:00:00.000Z',\n   'EndingDateTime': '2022-11-19T23:59:59.999Z'}},\n 'GranuleUR': 'GPM_3IMERGDF.07:3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n 'MetadataSpecification': {'URL': 'https://cdn.earthdata.nasa.gov/umm/granule/v1.6.5',\n  'Name': 'UMM-G',\n  'Version': '1.6.5'}}\n\n\n\n\nGet data URLs / S3 URIs\nGet links to data. The data_links() method is used to return the URL(s)/data link(s) for the item. By defalt the method returns the HTTPS URL to download or access the item.\n\nitem.data_links()\n\n['https://data.gesdisc.earthdata.nasa.gov/data/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4']\n\n\nThe data_links() method can also be used to get the s3 URI when we want to perform direct s3 access of the data in the cloud. To get the s3 URI, pass access = 'direct' to the method.\n\nitem.data_links(access='direct')\n\n['s3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4']\n\n\nIf we want to extract all of the data links from our search results and add or save them to a list, we can.\n\ndata_link_list = []\n\nfor granule in results:\n    for asset in granule.data_links(access='direct'):\n        data_link_list.append(asset)\n        \n\n\ndata_link_list[0:9]\n\n['s3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221119-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221120-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221121-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221122-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221123-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221124-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221125-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221126-S000000-E235959.V07.nc4',\n 's3://gesdisc-cumulus-prod-protected/GPM_L3/GPM_3IMERGDF.07/2022/11/3B-DAY.MS.MRG.3IMERG.20221127-S000000-E235959.V07.nc4']\n\n\nWe can pass or read these lists of data links into libraries like xarray, rioxarray, or gdal, but earthaccess has a built-in module for easily reading these data links in.\n\n\nPass results to xarray\nWe pass the earthaccess.open() function to\n\nfileset = earthaccess.open(results)\n\n Opening 139 granules, approx size: 3.75 GB\nusing endpoint: https://data.gesdisc.earthdata.nasa.gov/s3credentials\n\n\n\n\n\n\n\n\n\n\n\n\nds = xr.open_mfdataset(fileset, chunks = {})\n\nSome really cool things just happened here! Not only were we able to seamlessly stream our earthaccess search results into a xarray dataset using the open_mfdataset() (multi-file) method, but earthaccess determined that we were working from within AWS us-west-2 and accessed the data via direct S3 access! We didn’t have to create a session or a filesystem to authenicate and connect to the data. earthaccess did this for us using the auth object we created at the beginning of this tutorial. If we were not working in AWS us-west-2, earthaccess would “automagically” switch to accessing the data via the HTTPS endpoints and would again handle the authentication for us.\nLet’s take a quick lock at our xarray dataset\n\nds\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:                         (time: 139, lon: 3600, lat: 1800, nv: 2)\nCoordinates:\n  * lon                             (lon) float32 -179.9 -179.9 ... 179.9 179.9\n  * lat                             (lat) float64 -89.95 -89.85 ... 89.85 89.95\n  * time                            (time) datetime64[ns] 2022-11-19 ... 2023...\nDimensions without coordinates: nv\nData variables:\n    precipitation                   (time, lon, lat) float32 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    precipitation_cnt               (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    precipitation_cnt_cond          (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    MWprecipitation                 (time, lon, lat) float32 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    MWprecipitation_cnt             (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    MWprecipitation_cnt_cond        (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    randomError                     (time, lon, lat) float32 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    randomError_cnt                 (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    probabilityLiquidPrecipitation  (time, lon, lat) int8 dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n    time_bnds                       (time, nv) datetime64[ns] dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;\nAttributes:\n    BeginDate:       2022-11-19\n    BeginTime:       00:00:00.000Z\n    EndDate:         2022-11-19\n    EndTime:         23:59:59.999Z\n    FileHeader:      StartGranuleDateTime=2022-11-19T00:00:00.000Z;\\nStopGran...\n    InputPointer:    3B-HHR.MS.MRG.3IMERG.20221119-S000000-E002959.0000.V07A....\n    title:           GPM IMERG Final Precipitation L3 1 day 0.1 degree x 0.1 ...\n    DOI:             10.5067/GPM/IMERGDF/DAY/07\n    ProductionTime:  2023-08-25T14:03:25.792Zxarray.DatasetDimensions:time: 139lon: 3600lat: 1800nv: 2Coordinates: (3)lon(lon)float32-179.9 -179.9 ... 179.9 179.9units :degrees_eastlong_name :Longitudearray([-179.95, -179.85, -179.75, ...,  179.75,  179.85,  179.95],\n      dtype=float32)lat(lat)float64-89.95 -89.85 ... 89.85 89.95units :degrees_northlong_name :Latitudearray([-89.95, -89.85, -89.75, ...,  89.75,  89.85,  89.95])time(time)datetime64[ns]2022-11-19 ... 2023-04-06standard_name :timelong_name :timebounds :time_bndsarray(['2022-11-19T00:00:00.000000000', '2022-11-20T00:00:00.000000000',\n       '2022-11-21T00:00:00.000000000', '2022-11-22T00:00:00.000000000',\n       '2022-11-23T00:00:00.000000000', '2022-11-24T00:00:00.000000000',\n       '2022-11-25T00:00:00.000000000', '2022-11-26T00:00:00.000000000',\n       '2022-11-27T00:00:00.000000000', '2022-11-28T00:00:00.000000000',\n       '2022-11-29T00:00:00.000000000', '2022-11-30T00:00:00.000000000',\n       '2022-12-01T00:00:00.000000000', '2022-12-02T00:00:00.000000000',\n       '2022-12-03T00:00:00.000000000', '2022-12-04T00:00:00.000000000',\n       '2022-12-05T00:00:00.000000000', '2022-12-06T00:00:00.000000000',\n       '2022-12-07T00:00:00.000000000', '2022-12-08T00:00:00.000000000',\n       '2022-12-09T00:00:00.000000000', '2022-12-10T00:00:00.000000000',\n       '2022-12-11T00:00:00.000000000', '2022-12-12T00:00:00.000000000',\n       '2022-12-13T00:00:00.000000000', '2022-12-14T00:00:00.000000000',\n       '2022-12-15T00:00:00.000000000', '2022-12-16T00:00:00.000000000',\n       '2022-12-17T00:00:00.000000000', '2022-12-18T00:00:00.000000000',\n       '2022-12-19T00:00:00.000000000', '2022-12-20T00:00:00.000000000',\n       '2022-12-21T00:00:00.000000000', '2022-12-22T00:00:00.000000000',\n       '2022-12-23T00:00:00.000000000', '2022-12-24T00:00:00.000000000',\n       '2022-12-25T00:00:00.000000000', '2022-12-26T00:00:00.000000000',\n       '2022-12-27T00:00:00.000000000', '2022-12-28T00:00:00.000000000',\n       '2022-12-29T00:00:00.000000000', '2022-12-30T00:00:00.000000000',\n       '2022-12-31T00:00:00.000000000', '2023-01-01T00:00:00.000000000',\n       '2023-01-02T00:00:00.000000000', '2023-01-03T00:00:00.000000000',\n       '2023-01-04T00:00:00.000000000', '2023-01-05T00:00:00.000000000',\n       '2023-01-06T00:00:00.000000000', '2023-01-07T00:00:00.000000000',\n       '2023-01-08T00:00:00.000000000', '2023-01-09T00:00:00.000000000',\n       '2023-01-10T00:00:00.000000000', '2023-01-11T00:00:00.000000000',\n       '2023-01-12T00:00:00.000000000', '2023-01-13T00:00:00.000000000',\n       '2023-01-14T00:00:00.000000000', '2023-01-15T00:00:00.000000000',\n       '2023-01-16T00:00:00.000000000', '2023-01-17T00:00:00.000000000',\n       '2023-01-18T00:00:00.000000000', '2023-01-19T00:00:00.000000000',\n       '2023-01-20T00:00:00.000000000', '2023-01-21T00:00:00.000000000',\n       '2023-01-22T00:00:00.000000000', '2023-01-23T00:00:00.000000000',\n       '2023-01-24T00:00:00.000000000', '2023-01-25T00:00:00.000000000',\n       '2023-01-26T00:00:00.000000000', '2023-01-27T00:00:00.000000000',\n       '2023-01-28T00:00:00.000000000', '2023-01-29T00:00:00.000000000',\n       '2023-01-30T00:00:00.000000000', '2023-01-31T00:00:00.000000000',\n       '2023-02-01T00:00:00.000000000', '2023-02-02T00:00:00.000000000',\n       '2023-02-03T00:00:00.000000000', '2023-02-04T00:00:00.000000000',\n       '2023-02-05T00:00:00.000000000', '2023-02-06T00:00:00.000000000',\n       '2023-02-07T00:00:00.000000000', '2023-02-08T00:00:00.000000000',\n       '2023-02-09T00:00:00.000000000', '2023-02-10T00:00:00.000000000',\n       '2023-02-11T00:00:00.000000000', '2023-02-12T00:00:00.000000000',\n       '2023-02-13T00:00:00.000000000', '2023-02-14T00:00:00.000000000',\n       '2023-02-15T00:00:00.000000000', '2023-02-16T00:00:00.000000000',\n       '2023-02-17T00:00:00.000000000', '2023-02-18T00:00:00.000000000',\n       '2023-02-19T00:00:00.000000000', '2023-02-20T00:00:00.000000000',\n       '2023-02-21T00:00:00.000000000', '2023-02-22T00:00:00.000000000',\n       '2023-02-23T00:00:00.000000000', '2023-02-24T00:00:00.000000000',\n       '2023-02-25T00:00:00.000000000', '2023-02-26T00:00:00.000000000',\n       '2023-02-27T00:00:00.000000000', '2023-02-28T00:00:00.000000000',\n       '2023-03-01T00:00:00.000000000', '2023-03-02T00:00:00.000000000',\n       '2023-03-03T00:00:00.000000000', '2023-03-04T00:00:00.000000000',\n       '2023-03-05T00:00:00.000000000', '2023-03-06T00:00:00.000000000',\n       '2023-03-07T00:00:00.000000000', '2023-03-08T00:00:00.000000000',\n       '2023-03-09T00:00:00.000000000', '2023-03-10T00:00:00.000000000',\n       '2023-03-11T00:00:00.000000000', '2023-03-12T00:00:00.000000000',\n       '2023-03-13T00:00:00.000000000', '2023-03-14T00:00:00.000000000',\n       '2023-03-15T00:00:00.000000000', '2023-03-16T00:00:00.000000000',\n       '2023-03-17T00:00:00.000000000', '2023-03-18T00:00:00.000000000',\n       '2023-03-19T00:00:00.000000000', '2023-03-20T00:00:00.000000000',\n       '2023-03-21T00:00:00.000000000', '2023-03-22T00:00:00.000000000',\n       '2023-03-23T00:00:00.000000000', '2023-03-24T00:00:00.000000000',\n       '2023-03-25T00:00:00.000000000', '2023-03-26T00:00:00.000000000',\n       '2023-03-27T00:00:00.000000000', '2023-03-28T00:00:00.000000000',\n       '2023-03-29T00:00:00.000000000', '2023-03-30T00:00:00.000000000',\n       '2023-03-31T00:00:00.000000000', '2023-04-01T00:00:00.000000000',\n       '2023-04-02T00:00:00.000000000', '2023-04-03T00:00:00.000000000',\n       '2023-04-04T00:00:00.000000000', '2023-04-05T00:00:00.000000000',\n       '2023-04-06T00:00:00.000000000'], dtype='datetime64[ns]')Data variables: (10)precipitation(time, lon, lat)float32dask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;units :mm/daylong_name :Daily mean precipitation rate (combined microwave-IR) estimate. Formerly precipitationCal.\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.36 GiB\n24.72 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\nprecipitation_cnt\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of all valid half-hourly precipitation retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nprecipitation_cnt_cond\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of half-hourly precipitation retrievals for the day where precipitation is at least 0.01 mm/hr\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation\n\n\n(time, lon, lat)\n\n\nfloat32\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\nmm/day\n\nlong_name :\n\nDaily mean High Quality precipitation rate from all available microwave sources. Formerly HQprecipitation.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.36 GiB\n24.72 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation_cnt\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of all valid half-hourly MWprecipitation retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation_cnt_cond\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of half-hourly MWprecipitation retrievals for the day where precipitation is at least 0.01 mm/hr\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nrandomError\n\n\n(time, lon, lat)\n\n\nfloat32\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\nmm/day\n\nlong_name :\n\nRoot-mean-square error estimate for combined microwave-IR daily precipitation rate\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.36 GiB\n24.72 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\n\nrandomError_cnt\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of valid half-hourly randomError retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nprobabilityLiquidPrecipitation\n\n\n(time, lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(1, 3600, 1800), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\npercent\n\nlong_name :\n\nProbability of liquid precipitation\n\ndescription :\n\nProbability of liquid precipitation estimated with a diagnostic parameterization using ancillary data. 0=missing values; 1=likely solid; 100=likely liquid or no precipitation. Screen by positive precipitation or precipitation_cnt_cond to locate meaningful probabilities.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n858.99 MiB\n6.18 MiB\n\n\nShape\n(139, 3600, 1800)\n(1, 3600, 1800)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\ntime_bnds\n\n\n(time, nv)\n\n\ndatetime64[ns]\n\n\ndask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;\n\n\n\n\ncoordinates :\n\ntime nv\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n2.17 kiB\n16 B\n\n\nShape\n(139, 2)\n(1, 2)\n\n\nDask graph\n139 chunks in 279 graph layers\n\n\nData type\ndatetime64[ns] numpy.ndarray\n\n\n\n\n\n\n\n\nIndexes: (3)lonPandasIndexPandasIndex(Float64Index([ -179.9499969482422, -179.85000610351562,             -179.75,\n              -179.64999389648438,  -179.5500030517578,  -179.4499969482422,\n              -179.35000610351562,             -179.25, -179.14999389648438,\n               -179.0500030517578,\n              ...\n                179.0500030517578,  179.14999389648438,              179.25,\n               179.35000610351562,   179.4499969482422,   179.5500030517578,\n               179.64999389648438,              179.75,  179.85000610351562,\n                179.9499969482422],\n             dtype='float64', name='lon', length=3600))latPandasIndexPandasIndex(Float64Index([            -89.95, -89.85000000000001,             -89.75,\n                          -89.65,             -89.55,             -89.45,\n              -89.35000000000001,             -89.25,             -89.15,\n                          -89.05,\n              ...\n                           89.05,  89.15000000000002,  89.25000000000001,\n               89.35000000000001,              89.45,              89.55,\n               89.65000000000002,  89.75000000000001,  89.85000000000001,\n                           89.95],\n             dtype='float64', name='lat', length=1800))timePandasIndexPandasIndex(DatetimeIndex(['2022-11-19', '2022-11-20', '2022-11-21', '2022-11-22',\n               '2022-11-23', '2022-11-24', '2022-11-25', '2022-11-26',\n               '2022-11-27', '2022-11-28',\n               ...\n               '2023-03-28', '2023-03-29', '2023-03-30', '2023-03-31',\n               '2023-04-01', '2023-04-02', '2023-04-03', '2023-04-04',\n               '2023-04-05', '2023-04-06'],\n              dtype='datetime64[ns]', name='time', length=139, freq=None))Attributes: (9)BeginDate :2022-11-19BeginTime :00:00:00.000ZEndDate :2022-11-19EndTime :23:59:59.999ZFileHeader :StartGranuleDateTime=2022-11-19T00:00:00.000Z;\nStopGranuleDateTime=2022-11-19T23:59:59.999ZInputPointer :3B-HHR.MS.MRG.3IMERG.20221119-S000000-E002959.0000.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S003000-E005959.0030.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S010000-E012959.0060.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S013000-E015959.0090.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S020000-E022959.0120.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S023000-E025959.0150.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S030000-E032959.0180.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S033000-E035959.0210.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S040000-E042959.0240.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S043000-E045959.0270.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S050000-E052959.0300.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S053000-E055959.0330.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S060000-E062959.0360.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S063000-E065959.0390.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S070000-E072959.0420.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S073000-E075959.0450.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S080000-E082959.0480.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S083000-E085959.0510.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S090000-E092959.0540.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S093000-E095959.0570.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S100000-E102959.0600.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S103000-E105959.0630.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S110000-E112959.0660.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S113000-E115959.0690.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S120000-E122959.0720.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S123000-E125959.0750.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S130000-E132959.0780.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S133000-E135959.0810.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S140000-E142959.0840.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S143000-E145959.0870.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S150000-E152959.0900.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S153000-E155959.0930.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S160000-E162959.0960.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S163000-E165959.0990.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S170000-E172959.1020.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S173000-E175959.1050.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S180000-E182959.1080.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S183000-E185959.1110.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S190000-E192959.1140.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S193000-E195959.1170.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S200000-E202959.1200.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S203000-E205959.1230.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S210000-E212959.1260.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S213000-E215959.1290.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S220000-E222959.1320.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S223000-E225959.1350.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S230000-E232959.1380.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20221119-S233000-E235959.1410.V07A.HDF5title :GPM IMERG Final Precipitation L3 1 day 0.1 degree x 0.1 degree (GPM_3IMERGDF)DOI :10.5067/GPM/IMERGDF/DAY/07ProductionTime :2023-08-25T14:03:25.792Z"
  },
  {
    "objectID": "tutorials/Earthdata_Search_Discovery_earthaccess.html#resources",
    "href": "tutorials/Earthdata_Search_Discovery_earthaccess.html#resources",
    "title": "Data discovery with earthaccess",
    "section": "Resources",
    "text": "Resources\n\nNASA’s Common Metadata Repository (CMR) API\n\nearthaccess repository\nearthaccess documentation\nEarthdata Search"
  },
  {
    "objectID": "prerequisites.html",
    "href": "prerequisites.html",
    "title": "Prerequisites",
    "section": "",
    "text": "An Earthdata Login account is required to access data, as well as discover restricted data, from the NASA Earthdata system. Thus, to access NASA data, you need Earthdata Login. Please visit https://urs.earthdata.nasa.gov to register and manage your Earthdata Login account. This account is free to create and only takes a moment to set up. Please remember your username and password!\n\n\n\nA GitHub account is required to gain access to the provided 2i2c cloud computing platform. Please visit https://github.com/join to register and create a free GitHub account. Make sure you have sent your username to the workshop leaders via this Google Form once you have done so for access to our cloud computing environment.\n\n\n\nParticipation in the exercises requires a laptop or tablet. Yes, a tablet works too! All participants will have access to a 2i2c Jupyter Lab instance running in AWS us-west 2."
  },
  {
    "objectID": "prerequisites.html#before-the-workshop-you-will-need-the-following",
    "href": "prerequisites.html#before-the-workshop-you-will-need-the-following",
    "title": "Prerequisites",
    "section": "",
    "text": "An Earthdata Login account is required to access data, as well as discover restricted data, from the NASA Earthdata system. Thus, to access NASA data, you need Earthdata Login. Please visit https://urs.earthdata.nasa.gov to register and manage your Earthdata Login account. This account is free to create and only takes a moment to set up. Please remember your username and password!\n\n\n\nA GitHub account is required to gain access to the provided 2i2c cloud computing platform. Please visit https://github.com/join to register and create a free GitHub account. Make sure you have sent your username to the workshop leaders via this Google Form once you have done so for access to our cloud computing environment.\n\n\n\nParticipation in the exercises requires a laptop or tablet. Yes, a tablet works too! All participants will have access to a 2i2c Jupyter Lab instance running in AWS us-west 2."
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html",
    "href": "tutorials/Earthdata_Subset_and_Plot.html",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "",
    "text": "Welcome to the NASA Earthdata Cloud Clinic.\nWe will go through two different direct cloud access & subsetting options available in the Earthdata Cloud:\n\nThe earthaccess python library for data search and direct cloud access, followed by xarray subsetting\n\nWorking with MEaSUREs Sea Surface Height Anomalies\nDiscover data using Earthdata Search\n\nThe Harmony-py python library for direct cloud access & data subsetting\n\nRequesting a subset of data from the GHRSST Level 4 MUR Global Foundation Sea Surface Temperature Analysis (v4.1) dataset using a vector-based geospatial file.\nThis dataset can also be viewed in Earthdata Search.\n\n\nIn both scenarios, we will be accessing data directly from Amazon Web Services (AWS), specifically in the us-west-2 region, which is where all cloud-hosted NASA Earthdata reside. This shared compute environment (JupyterHub) is also running in the same location. We will then load the data into Python as an xarray dataset.\nSee the bottom of the notebook for additional resources, including several tutorials that that served as a foundation for this clinic.\n\n\nIn addition to directly accessing the files archived and distributed by each of the NASA DAACs, many datasets also support services that allow us to customize the data via subsetting, reformatting, reprojection/regridding, and file aggregation. What does subsetting mean? Here’s a generalized graphic of what we mean.\n\nNote: “direct cloud access” is also called “direct S3 access” or simply “direct access”. And “subsetting” is also called “transformation”."
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#summary",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#summary",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "",
    "text": "Welcome to the NASA Earthdata Cloud Clinic.\nWe will go through two different direct cloud access & subsetting options available in the Earthdata Cloud:\n\nThe earthaccess python library for data search and direct cloud access, followed by xarray subsetting\n\nWorking with MEaSUREs Sea Surface Height Anomalies\nDiscover data using Earthdata Search\n\nThe Harmony-py python library for direct cloud access & data subsetting\n\nRequesting a subset of data from the GHRSST Level 4 MUR Global Foundation Sea Surface Temperature Analysis (v4.1) dataset using a vector-based geospatial file.\nThis dataset can also be viewed in Earthdata Search.\n\n\nIn both scenarios, we will be accessing data directly from Amazon Web Services (AWS), specifically in the us-west-2 region, which is where all cloud-hosted NASA Earthdata reside. This shared compute environment (JupyterHub) is also running in the same location. We will then load the data into Python as an xarray dataset.\nSee the bottom of the notebook for additional resources, including several tutorials that that served as a foundation for this clinic.\n\n\nIn addition to directly accessing the files archived and distributed by each of the NASA DAACs, many datasets also support services that allow us to customize the data via subsetting, reformatting, reprojection/regridding, and file aggregation. What does subsetting mean? Here’s a generalized graphic of what we mean.\n\nNote: “direct cloud access” is also called “direct S3 access” or simply “direct access”. And “subsetting” is also called “transformation”."
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#learning-objectives",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#learning-objectives",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Learning Objectives",
    "text": "Learning Objectives\n\nExtract variables and spatial slices from an xarray dataset\nPlot data using xarray\nConceptualize data subsetting services provided by NASA Earthdata, including Harmony\nPlot a polygon geojson file with a basemap using geoviews\nUtilize the harmony-py library to request data over the Gulf of Mexico\n\n\nImport Required Packages\n\n# Suppress warnings\nimport warnings\nwarnings.simplefilter('ignore')\nwarnings.filterwarnings('ignore')\n\n# Direct access\nimport earthaccess\nfrom pathlib import Path\nfrom pprint import pprint\nimport xarray as xr\nxr.set_options(display_expand_attrs=False)\n\n# Harmony\nimport numpy as np\nfrom harmony import BBox, Client, Collection, Request, LinkType, CapabilitiesRequest\nimport datetime as dt\nimport json\nimport requests\nimport s3fs\n\n# Plotting\nimport geopandas as gpd\nimport geoviews as gv\nimport geoviews.feature as gf\nfrom geoviews import opts\ngv.extension('bokeh', 'matplotlib', logo=False)\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nfrom cartopy.mpl.ticker import LatitudeFormatter, LongitudeFormatter\nimport matplotlib.pyplot as plt\nimport rioxarray as rxr\n%matplotlib inline"
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#picking-up-where-we-left-off",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#picking-up-where-we-left-off",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Picking up where we left off",
    "text": "Picking up where we left off\nWe will authenticate our Earthaccess session, and then open the results like we did in the Search & Discovery section.\n\nauth = earthaccess.login()\n# are we authenticated?\nif not auth.authenticated:\n    # ask for credentials and persist them in a .netrc file\n    auth.login(strategy=\"interactive\", persist=True)\n\nEARTHDATA_USERNAME and EARTHDATA_PASSWORD are not set in the current environment, try setting them or use a different strategy (netrc, interactive)\nYou're now authenticated with NASA Earthdata Login\nUsing token with expiration date: 11/25/2023\nUsing .netrc file for EDL"
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#example-1---precipitation-estimates-from-imerg-daily-level-3",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#example-1---precipitation-estimates-from-imerg-daily-level-3",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Example 1 - Precipitation estimates from IMERG, Daily Level 3",
    "text": "Example 1 - Precipitation estimates from IMERG, Daily Level 3\n\nDataset\nWe will use the GPM IMERG Final Precipitation L3 Daily dataset for this tutorial. The IMERG Precipitation Rate provides the rain and snow rates in millimeters per hour (mm/hr). It is estimated by the Integrated Multi-satellitE Retrievals for Global Precipitation Measurement (GPM) (IMERG) algorithm. The IMERG algorithm uses passive-microwave data from the GPM constellation of satellites and infrared data from geosynchronous satellites. IMERG “morphs” observations to earlier or later times using wind from weather-model analyses. The daily IMERG dataset is derived from the half-hourly GPM_3IMERGHH. The derived result represents the final estimate of the daily mean precipitation rate in mm/day.\nThe IMERG data has 0.1 x 0.1 degree latitude-longitude resolution (approximately 11 by 11 km at the Equator). The grid covers the globe, although precipitation cannot always be estimated near the Poles. The dataset and algorithm are described in the data user guide and the Algorithm Theoretical Basis Document (ATBD).\nPlease cite the dataset as: &gt; Huffman, G.J., E.F. Stocker, D.T. Bolvin, E.J. Nelkin, Jackson Tan (2023), GPM IMERG Final Precipitation L3 1 day 0.1 degree x 0.1 degree V07, Edited by Andrey Savtchenko, Greenbelt, MD, Goddard Earth Sciences Data and Information Services Center (GES DISC), https://doi.org/10.5067/GPM/IMERGDF/DAY/07\n\n# The Dataset: \n#     GPM IMERG Final Precipitation L3 1 day 0.1 degree x 0.1 degree V07 (GPM_3IMERGDF)\ncollection_id = 'C2723754864-GES_DISC'\ndate_start = \"2023-02-24\"\ndate_end = \"2023-02-26\"\ndate_range = (date_start, date_end)\nbbox = (-127.0761, 31.6444, -113.9039, 42.6310)\n\nresults = earthaccess.search_data(\n    concept_id = collection_id,\n    #cloud_hosted = True,\n    temporal = date_range,\n    bounding_box = bbox,\n)\n\nds = xr.open_mfdataset(earthaccess.open(results))\n\nGranules found: 3\n Opening 3 granules, approx size: 0.08 GB\nusing endpoint: https://data.gesdisc.earthdata.nasa.gov/s3credentials\n\n\n\n\n\n\n\n\n\n\n\nLet’s print out all the variable names.\n\nfor v in ds.variables:\n    print(v)  # ({ds[v].attrs['units']}) - {ds[v].attrs['long_name']}\")\n\nprecipitation\nprecipitation_cnt\nprecipitation_cnt_cond\nMWprecipitation\nMWprecipitation_cnt\nMWprecipitation_cnt_cond\nrandomError\nrandomError_cnt\nprobabilityLiquidPrecipitation\nlon\nlat\ntime\ntime_bnds\n\n\nOf the variables listed above, we are interested in three variables: precipitation, precipitation_cnt_cond, and probabilityLiquidPrecipitation. Let’s print their attributes.\n\nds.variables['precipitation'].attrs\n\n{'units': 'mm/day',\n 'long_name': 'Daily mean precipitation rate (combined microwave-IR) estimate. Formerly precipitationCal.'}\n\n\n\nds.variables['precipitation_cnt_cond'].attrs\n\n{'units': 'count',\n 'long_name': 'Count of half-hourly precipitation retrievals for the day where precipitation is at least 0.01 mm/hr'}\n\n\n\nds.variables['probabilityLiquidPrecipitation'].attrs\n\n{'units': 'percent',\n 'long_name': 'Probability of liquid precipitation',\n 'description': 'Probability of liquid precipitation estimated with a diagnostic parameterization using ancillary data. 0=missing values; 1=likely solid; 100=likely liquid or no precipitation.  Screen by positive precipitation or precipitation_cnt_cond to locate meaningful probabilities.'}\n\n\n\n\nSubsetting\nTo subset means to extract only the portions of a dataset that are needed for a given purpose\nThere are three primary types of subsetting that we will walk through: 1. Temporal 2. Spatial 3. Variable\nIn each case, we will be excluding parts of the dataset that are not wanted using xarray\n\nds.time.values\n\narray(['2023-02-24T00:00:00.000000000', '2023-02-25T00:00:00.000000000',\n       '2023-02-26T00:00:00.000000000'], dtype='datetime64[ns]')\n\n\n\nprint(f\"Longitude range: {ds.lon.values.min()} - {ds.lon.values.max()}\")\nprint(f\"Latitude range: {ds.lat.values.min()} - {ds.lat.values.max()}\")\n\nLongitude range: -179.9499969482422 - 179.9499969482422\nLatitude range: -89.95 - 89.95\n\n\nWe start with a subset that represents the U.S. state of California. Notice the dimensions of the Dataset and each variable.\n\nds_subset = ds.sel(time='2023-02-24', lat=slice(31, 43), lon=slice(-125, -113)) \nds_subset\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:                         (lon: 120, lat: 120, nv: 2)\nCoordinates:\n  * lon                             (lon) float32 -124.9 -124.8 ... -113.1\n  * lat                             (lat) float64 31.05 31.15 ... 42.85 42.95\n    time                            datetime64[ns] 2023-02-24\nDimensions without coordinates: nv\nData variables:\n    precipitation                   (lon, lat) float32 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    precipitation_cnt               (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    precipitation_cnt_cond          (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    MWprecipitation                 (lon, lat) float32 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    MWprecipitation_cnt             (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    MWprecipitation_cnt_cond        (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    randomError                     (lon, lat) float32 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    randomError_cnt                 (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    probabilityLiquidPrecipitation  (lon, lat) int8 dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n    time_bnds                       (nv) datetime64[ns] dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;\nAttributes: (9)xarray.DatasetDimensions:lon: 120lat: 120nv: 2Coordinates: (3)lon(lon)float32-124.9 -124.8 ... -113.2 -113.1units :degrees_eastlong_name :Longitudearray([-124.95, -124.85, -124.75, -124.65, -124.55, -124.45, -124.35, -124.25,\n       -124.15, -124.05, -123.95, -123.85, -123.75, -123.65, -123.55, -123.45,\n       -123.35, -123.25, -123.15, -123.05, -122.95, -122.85, -122.75, -122.65,\n       -122.55, -122.45, -122.35, -122.25, -122.15, -122.05, -121.95, -121.85,\n       -121.75, -121.65, -121.55, -121.45, -121.35, -121.25, -121.15, -121.05,\n       -120.95, -120.85, -120.75, -120.65, -120.55, -120.45, -120.35, -120.25,\n       -120.15, -120.05, -119.95, -119.85, -119.75, -119.65, -119.55, -119.45,\n       -119.35, -119.25, -119.15, -119.05, -118.95, -118.85, -118.75, -118.65,\n       -118.55, -118.45, -118.35, -118.25, -118.15, -118.05, -117.95, -117.85,\n       -117.75, -117.65, -117.55, -117.45, -117.35, -117.25, -117.15, -117.05,\n       -116.95, -116.85, -116.75, -116.65, -116.55, -116.45, -116.35, -116.25,\n       -116.15, -116.05, -115.95, -115.85, -115.75, -115.65, -115.55, -115.45,\n       -115.35, -115.25, -115.15, -115.05, -114.95, -114.85, -114.75, -114.65,\n       -114.55, -114.45, -114.35, -114.25, -114.15, -114.05, -113.95, -113.85,\n       -113.75, -113.65, -113.55, -113.45, -113.35, -113.25, -113.15, -113.05],\n      dtype=float32)lat(lat)float6431.05 31.15 31.25 ... 42.85 42.95units :degrees_northlong_name :Latitudearray([31.05, 31.15, 31.25, 31.35, 31.45, 31.55, 31.65, 31.75, 31.85, 31.95,\n       32.05, 32.15, 32.25, 32.35, 32.45, 32.55, 32.65, 32.75, 32.85, 32.95,\n       33.05, 33.15, 33.25, 33.35, 33.45, 33.55, 33.65, 33.75, 33.85, 33.95,\n       34.05, 34.15, 34.25, 34.35, 34.45, 34.55, 34.65, 34.75, 34.85, 34.95,\n       35.05, 35.15, 35.25, 35.35, 35.45, 35.55, 35.65, 35.75, 35.85, 35.95,\n       36.05, 36.15, 36.25, 36.35, 36.45, 36.55, 36.65, 36.75, 36.85, 36.95,\n       37.05, 37.15, 37.25, 37.35, 37.45, 37.55, 37.65, 37.75, 37.85, 37.95,\n       38.05, 38.15, 38.25, 38.35, 38.45, 38.55, 38.65, 38.75, 38.85, 38.95,\n       39.05, 39.15, 39.25, 39.35, 39.45, 39.55, 39.65, 39.75, 39.85, 39.95,\n       40.05, 40.15, 40.25, 40.35, 40.45, 40.55, 40.65, 40.75, 40.85, 40.95,\n       41.05, 41.15, 41.25, 41.35, 41.45, 41.55, 41.65, 41.75, 41.85, 41.95,\n       42.05, 42.15, 42.25, 42.35, 42.45, 42.55, 42.65, 42.75, 42.85, 42.95])time()datetime64[ns]2023-02-24standard_name :timelong_name :timebounds :time_bndsarray('2023-02-24T00:00:00.000000000', dtype='datetime64[ns]')Data variables: (10)precipitation(lon, lat)float32dask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;units :mm/daylong_name :Daily mean precipitation rate (combined microwave-IR) estimate. Formerly precipitationCal.\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n56.25 kiB\n56.25 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\nprecipitation_cnt\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of all valid half-hourly precipitation retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nprecipitation_cnt_cond\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of half-hourly precipitation retrievals for the day where precipitation is at least 0.01 mm/hr\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation\n\n\n(lon, lat)\n\n\nfloat32\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\nmm/day\n\nlong_name :\n\nDaily mean High Quality precipitation rate from all available microwave sources. Formerly HQprecipitation.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n56.25 kiB\n56.25 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation_cnt\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of all valid half-hourly MWprecipitation retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nMWprecipitation_cnt_cond\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of half-hourly MWprecipitation retrievals for the day where precipitation is at least 0.01 mm/hr\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nrandomError\n\n\n(lon, lat)\n\n\nfloat32\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\nmm/day\n\nlong_name :\n\nRoot-mean-square error estimate for combined microwave-IR daily precipitation rate\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n56.25 kiB\n56.25 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nfloat32 numpy.ndarray\n\n\n\n\n\n\n\n\n\nrandomError_cnt\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\ncount\n\nlong_name :\n\nCount of valid half-hourly randomError retrievals for the day\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\nprobabilityLiquidPrecipitation\n\n\n(lon, lat)\n\n\nint8\n\n\ndask.array&lt;chunksize=(120, 120), meta=np.ndarray&gt;\n\n\n\n\nunits :\n\npercent\n\nlong_name :\n\nProbability of liquid precipitation\n\ndescription :\n\nProbability of liquid precipitation estimated with a diagnostic parameterization using ancillary data. 0=missing values; 1=likely solid; 100=likely liquid or no precipitation. Screen by positive precipitation or precipitation_cnt_cond to locate meaningful probabilities.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n14.06 kiB\n14.06 kiB\n\n\nShape\n(120, 120)\n(120, 120)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\nint8 numpy.ndarray\n\n\n\n\n\n\n\n\n\ntime_bnds\n\n\n(nv)\n\n\ndatetime64[ns]\n\n\ndask.array&lt;chunksize=(2,), meta=np.ndarray&gt;\n\n\n\n\ncoordinates :\n\ntime nv\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n16 B\n16 B\n\n\nShape\n(2,)\n(2,)\n\n\nDask graph\n1 chunks in 8 graph layers\n\n\nData type\ndatetime64[ns] numpy.ndarray\n\n\n\n\n\n\n\n\nIndexes: (2)lonPandasIndexPandasIndex(Float64Index([-124.94999694824219,  -124.8499984741211,             -124.75,\n               -124.6500015258789, -124.55000305175781, -124.44999694824219,\n               -124.3499984741211,             -124.25,  -124.1500015258789,\n              -124.05000305175781,\n              ...\n              -113.94999694824219,  -113.8499984741211,             -113.75,\n               -113.6500015258789, -113.55000305175781, -113.44999694824219,\n               -113.3499984741211,             -113.25,  -113.1500015258789,\n              -113.05000305175781],\n             dtype='float64', name='lon', length=120))latPandasIndexPandasIndex(Float64Index([             31.05,  31.15000000000001, 31.250000000000004,\n              31.350000000000012, 31.450000000000006,              31.55,\n               31.65000000000001, 31.750000000000004, 31.850000000000012,\n              31.950000000000006,\n              ...\n                           42.05,  42.14999999999999, 42.250000000000014,\n               42.35000000000001,              42.45,              42.55,\n               42.64999999999999, 42.750000000000014,  42.85000000000001,\n                           42.95],\n             dtype='float64', name='lat', length=120))Attributes: (9)BeginDate :2023-02-24BeginTime :00:00:00.000ZEndDate :2023-02-24EndTime :23:59:59.999ZFileHeader :StartGranuleDateTime=2023-02-24T00:00:00.000Z;\nStopGranuleDateTime=2023-02-24T23:59:59.999ZInputPointer :3B-HHR.MS.MRG.3IMERG.20230224-S000000-E002959.0000.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S003000-E005959.0030.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S010000-E012959.0060.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S013000-E015959.0090.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S020000-E022959.0120.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S023000-E025959.0150.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S030000-E032959.0180.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S033000-E035959.0210.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S040000-E042959.0240.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S043000-E045959.0270.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S050000-E052959.0300.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S053000-E055959.0330.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S060000-E062959.0360.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S063000-E065959.0390.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S070000-E072959.0420.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S073000-E075959.0450.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S080000-E082959.0480.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S083000-E085959.0510.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S090000-E092959.0540.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S093000-E095959.0570.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S100000-E102959.0600.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S103000-E105959.0630.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S110000-E112959.0660.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S113000-E115959.0690.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S120000-E122959.0720.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S123000-E125959.0750.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S130000-E132959.0780.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S133000-E135959.0810.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S140000-E142959.0840.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S143000-E145959.0870.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S150000-E152959.0900.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S153000-E155959.0930.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S160000-E162959.0960.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S163000-E165959.0990.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S170000-E172959.1020.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S173000-E175959.1050.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S180000-E182959.1080.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S183000-E185959.1110.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S190000-E192959.1140.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S193000-E195959.1170.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S200000-E202959.1200.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S203000-E205959.1230.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S210000-E212959.1260.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S213000-E215959.1290.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S220000-E222959.1320.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S223000-E225959.1350.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S230000-E232959.1380.V07A.HDF5;3B-HHR.MS.MRG.3IMERG.20230224-S233000-E235959.1410.V07A.HDF5title :GPM IMERG Final Precipitation L3 1 day 0.1 degree x 0.1 degree (GPM_3IMERGDF)DOI :10.5067/GPM/IMERGDF/DAY/07ProductionTime :2023-08-29T08:52:09.517Z\n\n\n\n\nPlotting\nWe will first plot using the methods built-in to the xarray package.\n\nds_subset['precipitation'].squeeze().plot(figsize=(10,6), x='lon', y='lat');\n\n\n\n\nNow let’s utilize the “Probability of liquid precipitation phase” (probabilityLiquidPrecipitation) variable to split apart the snow precipitation from everything else. And we’ll utilize precipitation_cnt_cond to filter out data points that had less than 0.01 mm/hr preciptation amounts.\n\nsnow = ds_subset['precipitation'].where((ds_subset.precipitation_cnt_cond&gt;0) & \n                       (ds_subset.probabilityLiquidPrecipitation == 1))\nprcp = ds_subset['precipitation'].where((ds_subset.precipitation_cnt_cond&gt;0) & \n                       (ds_subset.probabilityLiquidPrecipitation != 1))\n\nIn the following plotting commands, we utilize cartopy and matplotlib to generate a more customized figure.\ncartopy is used to set the map projection (to PlateCarree) and to add U.S. state boundary lines to the figure. matplotlib’s pcolormesh is used to generate the color plot, with colors determined by the third argument’s value.\n\n# create the plot\nproj = ccrs.PlateCarree()\nfig, ax = plt.subplots(figsize=(8,5), dpi=130, facecolor=\"w\", subplot_kw=dict(projection=proj))\nsnowax = plt.pcolormesh(prcp.lon, prcp.lat, snow.squeeze(), vmax=53, cmap='cool')\nprcpax = plt.pcolormesh(prcp.lon, prcp.lat, prcp.squeeze(), vmax=53, cmap='RdYlGn')\nplt.colorbar(snowax, ax=ax, label=\"snow (mm/day)\")\nplt.colorbar(prcpax, ax=ax, label=\"rainfall (mm/day)\")\nax.add_feature(cfeature.STATES)\nax.set_extent([-125, -113.0, 31.0, 43.0], crs=proj)\nax.set_title(f'Precipitation {date_start}')\nplt.show()"
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#example-2---snow-cover-from-modisterra-daily-level-3",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#example-2---snow-cover-from-modisterra-daily-level-3",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Example 2 - Snow Cover from MODIS/Terra, Daily Level 3",
    "text": "Example 2 - Snow Cover from MODIS/Terra, Daily Level 3\n\nDataset\nWe will use MODIS/Terra Snow Cover Daily L3 Global 0.05Deg CMG. This global Level-3 (L3) data set provides the percentage of snow-covered land and cloud-covered land observed daily, within 0.05° (approx. 5 km) MODIS Climate Modeling Grid (CMG) cells.\nThe dataset and algorithm is described in the data user guide and the Product Specific Document.\nPlease cite the dataset as: &gt; Hall, D. K. and G. A. Riggs. (2021). MODIS/Terra Snow Cover Daily L3 Global 0.05Deg CMG, Version 61. Boulder, Colorado USA. NASA National Snow and Ice Data Center Distributed Active Archive Center. https://doi.org/10.5067/MODIS/MOD10C1.061.\nUsing the dataset DOI, we will use the earthaccess module to search for dataset granules from February 24, 2023, and March 2, 2023.\n\ndoi = '10.5067/MODIS/MOD10C1.061' # MODIS Terra Snowcover\n\n# search granules from Feb 15, 2023\ndate1 = \"2023-02-15\"\ngranules1 = earthaccess.search_data(\n    count=-1, # needed to retrieve all granules\n    doi=doi,\n    temporal=(date1, date1)\n)\n\n# search granules from March 02, 2023\ndate2 = \"2023-03-02\"\ngranules2 = earthaccess.search_data(\n    count=-1, # needed to retrieve all granules\n    doi=doi,\n    temporal=(date2, date2)\n)\n\nGranules found: 1\nGranules found: 1\n\n\nLet’s download the granules to the local environment. This is needed as direct access to HDF4 files that MODIS Collection 6.1 comes as is currently not supported. The earthaccess module manages the authentication that is required for accessing data.\n\nearthaccess.download(granules1, local_path='.')\nearthaccess.download(granules2, local_path='.')\n\n Getting 1 granules, approx download size: 0.0 GB\nFile MOD10C1.A2023046.061.2023050111133.hdf already downloaded\n Getting 1 granules, approx download size: 0.0 GB\nFile MOD10C1.A2023061.061.2023070101022.hdf already downloaded\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n['MOD10C1.A2023061.061.2023070101022.hdf']\n\n\n\n\nSubsetting\nLet’s open the downloaded granules into a rioxarray. The variable Day_CMG_Snow_Cover provides daily percent snow in 5km grids. The variable Snow_Spatial_QA provides quality indicator for each grid: 0=best, 1=good, 2=ok, 3=poor, 4=other, 237=inland water, 239=ocean, 250=cloud obscured water 252=Antarctica mask, 253=not mapped, 254=no retrieval, and 255=fill. We will only use the grids with 0, 1, and 2 quality flags.\n\n# open granule from Feb 15, 2023\ng_1 = Path(Path(granules1[0].data_links()[0]).name)\nif g_1.is_file():\n    with rxr.open_rasterio(g_1) as modis:\n        print(modis)\n        snow_cover1 = modis['Day_CMG_Snow_Cover'][:]\n        snow_cover_qa1 = modis['Snow_Spatial_QA'][:]\n\n# open granules from March 02, 2023\ng_2 = Path(Path(granules2[0].data_links()[0]).name)\nif g_2.is_file():\n    with rxr.open_rasterio(g_2) as modis:\n        snow_cover2 = modis['Day_CMG_Snow_Cover'][:]\n        snow_cover_qa2 = modis['Snow_Spatial_QA'][:]\n\n# Spatially subset and keep only good quality cells\nsnow_cover_good1 = (\n    snow_cover1\n    .sel(x=slice(-125, -113), y=slice(43, 31))\n    .where((snow_cover_qa1 &gt;= 0) & (snow_cover_qa1 &lt;= 2))\n)\nsnow_cover_good2 = (\n    snow_cover2\n    .sel(x=slice(-125, -113), y=slice(43, 31))\n    .where((snow_cover_qa2 &gt;= 0) & (snow_cover_qa2 &lt;= 2))\n)\n\n&lt;xarray.Dataset&gt;\nDimensions:                 (band: 1, x: 7200, y: 3600)\nCoordinates:\n  * band                    (band) int64 1\n  * x                       (x) float64 -180.0 -179.9 -179.9 ... 179.9 180.0\n  * y                       (y) float64 89.97 89.92 89.88 ... -89.93 -89.98\n    spatial_ref             int64 0\nData variables:\n    Day_CMG_Snow_Cover      (band, y, x) uint8 ...\n    Day_CMG_Clear_Index     (band, y, x) uint8 ...\n    Day_CMG_Cloud_Obscured  (band, y, x) uint8 ...\n    Snow_Spatial_QA         (band, y, x) uint8 ...\nAttributes: (50)\n\n\n\n\nPlotting\n\n# create the plot\nproj = ccrs.PlateCarree()\nfig, (ax1, ax2) = plt.subplots(1,2, figsize=(12,4), dpi=130, facecolor=\"w\", subplot_kw=dict(projection=proj))\n\nsnowax1 = ax1.pcolormesh(snow_cover_good1.x.values, snow_cover_good1.y.values, snow_cover_good1.values[0], vmax=100, cmap='Blues')\nplt.colorbar(snowax1, ax=ax1, label=\"snow cover (%)\")\nax1.add_feature(cfeature.STATES)\nax1.set_title(f'Snow Cover {date1}')\n\nsnowax2 = ax2.pcolormesh(snow_cover_good2.x.values, snow_cover_good2.y.values, snow_cover_good2.values[0], vmax=100, cmap='Blues')\nplt.colorbar(snowax2, ax=ax2, label=\"snow cover (%)\")\nax2.add_feature(cfeature.STATES)\nax2.set_title(f'Snow Cover {date2}')\nplt.show()"
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#example-3---snow-mass-from-smap-3-hourly-level-4",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#example-3---snow-mass-from-smap-3-hourly-level-4",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Example 3 - Snow Mass from SMAP, 3-hourly Level 4",
    "text": "Example 3 - Snow Mass from SMAP, 3-hourly Level 4\n\nDataset\nThe Soil Moisture Active Passive (SMAP) L4 Global 3-hourly 9 km EASE-Grid Surface and Root Zone Soil Moisture Geophysical Data (SPL4SMGP) provides a model-derived global 3-hr time average of snow mass in kg/m2. SMAP L-band brightness temperature data from descending and ascending half-orbit satellite passes (approximately 6:00 a.m. and 6:00 p.m. local solar time, respectively) are assimilated into a land surface model that is gridded using an Earth-fixed, global cylindrical 9 km Equal-Area Scalable Earth Grid, Version 2.0 (EASE-Grid 2.0) projection. Snow mass estimates are based on a snow model component of the NASA Catchment Land Surface Model.\nThe dataset and algorithm are described in the data user guide and the Product Specific Document.\nPlease cite the dataset as: &gt; Reichle, R., G. De Lannoy, R. D. Koster, W. T. Crow, J. S. Kimball, Q. Liu, and M. Bechtold. (2022). SMAP L4 Global 3-hourly 9 km EASE-Grid Surface and Root Zone Soil Moisture Geophysical Data, Version 7. Boulder, Colorado USA. NASA National Snow and Ice Data Center Distributed Active Archive Center. https://doi.org/10.5067/EVKPQZ4AFC4D.\n\n# SMAP SPL4SMGP\ndoi = '10.5067/EVKPQZ4AFC4D'\n\n# search granules from Feb 15, 2023\ndate1 = \"2023-02-15\"\ngranules1 = earthaccess.search_data(\n    count=-1, # needed to retrieve all granules\n    doi=doi,\n    temporal=(date1, date1)\n)\n\n# search granules from March 02, 2023\ndate2 = \"2023-03-02\"\ngranules2 = earthaccess.search_data(\n    count=-1, # needed to retrieve all granules\n    doi=doi,\n    temporal=(date2, date2)\n)\n\nGranules found: 2\nGranules found: 2\n\n\n\n# granules from Feb 15, 2023\nfh1 = earthaccess.open(granules1)\n# open geophysical_data group\nds1 = xr.open_dataset(fh1[0], phony_dims='access', group='Geophysical_Data')\n# get location\nds_loc1 = xr.open_dataset(fh1[0], phony_dims='access')\n\n# granules from March 02, 2023\nfh2 = earthaccess.open(granules2)\n# open geophysical_data group\nds2 = xr.open_dataset(fh2[0], phony_dims='access', group='Geophysical_Data')\n# get location\nds_loc2 = xr.open_dataset(fh2[0], phony_dims='access')\n\n Opening 2 granules, approx size: 0.27 GB\n Opening 2 granules, approx size: 0.27 GB\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe “snow_mass” variable is within the “Geophysical_Data” group. It provides the average snow mass (or snow water equivalent) over a land fraction of the grid cell, excluding areas of open water and permanent ice. Let’s print the attributes of the snow_mass variable.\n\nds1.variables['snow_mass'].attrs\n\n{'DIMENSION_LABELS': [b'y', b'x'],\n 'coordinates': '/cell_lat /cell_lon',\n 'fmissing_value': -9999.0,\n 'grid_mapping': 'EASE2_global_projection',\n 'long_name': 'Average snow mass (or snow water equivalent) over land fraction of grid cell (excluding areas of open water and permanent ice)',\n 'units': 'kg m-2',\n 'valid_max': 10000.0,\n 'valid_min': 0.0}\n\n\n\nds1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:                                    (y: 1624, x: 3856)\nDimensions without coordinates: y, x\nData variables: (12/45)\n    baseflow_flux                              (y, x) float32 ...\n    depth_to_water_table_from_surface_in_peat  (y, x) float32 ...\n    free_surface_water_on_peat_flux            (y, x) float32 ...\n    heat_flux_ground                           (y, x) float32 ...\n    heat_flux_latent                           (y, x) float32 ...\n    heat_flux_sensible                         (y, x) float32 ...\n    ...                                         ...\n    specific_humidity_lowatmmodlay             (y, x) float32 ...\n    surface_pressure                           (y, x) float32 ...\n    surface_temp                               (y, x) float32 ...\n    temp_lowatmmodlay                          (y, x) float32 ...\n    vegetation_greenness_fraction              (y, x) float32 ...\n    windspeed_lowatmmodlay                     (y, x) float32 ...xarray.DatasetDimensions:y: 1624x: 3856Coordinates: (0)Data variables: (45)baseflow_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Baseflowunits :kg m-2 s-1valid_max :0.01valid_min :0.0[6262144 values with dtype=float32]depth_to_water_table_from_surface_in_peat(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Depth to water table from surface in peatlands (positive aboveground).units :mvalid_max :0.15valid_min :-5.0[6262144 values with dtype=float32]free_surface_water_on_peat_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Free surface water flux on peatlands.units :kg m-2 s-1valid_max :0.001valid_min :-0.001[6262144 values with dtype=float32]heat_flux_ground(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Downward ground heat flux into layer 1 of soil heat diffusion modelunits :W m-2valid_max :1000.0valid_min :-1000.0[6262144 values with dtype=float32]heat_flux_latent(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Latent heat flux from land (excluding areas of open water and permanent ice)units :W m-2valid_max :3000.0valid_min :-2500.0[6262144 values with dtype=float32]heat_flux_sensible(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Sensible heat flux from land (excluding areas of open water and permanent ice)units :W m-2valid_max :3000.0valid_min :-2500.0[6262144 values with dtype=float32]height_lowatmmodlay(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Center height of lowest atmospheric model layerunits :mvalid_max :80.0valid_min :40.0[6262144 values with dtype=float32]land_evapotranspiration_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Evapotranspiration from land (excluding areas of open water and permanent ice)units :kg m-2 s-1valid_max :0.001valid_min :-0.001[6262144 values with dtype=float32]land_fraction_saturated(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Fractional land area that is saturated and snow-free (excluding areas of open water and permanent ice)units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]land_fraction_snow_covered(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Fractional land area that is snow-covered (excluding areas of open water and permanent ice)units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]land_fraction_unsaturated(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Fractional land area that is unsaturated (but non-wilting) and snow-free (excluding areas of open water and permanent ice)units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]land_fraction_wilting(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Fractional land area that is wilting and snow-free (excluding areas of open water and permanent ice)units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]leaf_area_index(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Vegetation leaf area indexunits :m2 m-2valid_max :10.0valid_min :0.0[6262144 values with dtype=float32]mwrtm_vegopacity(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Microwave radiative transfer model: Vegetation opacity.units :1valid_max :2.5valid_min :0.0[6262144 values with dtype=float32]net_downward_longwave_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Net downward longwave flux over land (excluding areas of open water and permanent ice)units :W m-2valid_max :200.0valid_min :-1000.0[6262144 values with dtype=float32]net_downward_shortwave_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Net downward shortwave flux over land (excluding areas of open water and permanent ice)units :W m-2valid_max :1365.0valid_min :0.0[6262144 values with dtype=float32]overland_runoff_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Overland (surface) runoff (including throughflow - excluding areas of open water and permanent ice)units :kg m-2 s-1valid_max :0.05valid_min :0.0[6262144 values with dtype=float32]precipitation_total_surface_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Total surface precipitation (incl. snow fall)units :kg m-2 s-1valid_max :0.05valid_min :0.0[6262144 values with dtype=float32]radiation_longwave_absorbed_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Absorbed (downward) longwave radiation at the surfaceunits :W m-2valid_max :800.0valid_min :35.0[6262144 values with dtype=float32]radiation_shortwave_downward_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Downward shortwave flux incident on the surfaceunits :W m-2valid_max :1500.0valid_min :0.0[6262144 values with dtype=float32]sm_profile(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Total profile soil moisture (0 cm to model bedrock depth)units :m3 m-3valid_max :0.9valid_min :0.0[6262144 values with dtype=float32]sm_profile_pctl(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Total profile soil moisture (0 cm to model bedrock depth; percentile units)units :percentvalid_max :100.0valid_min :0.0[6262144 values with dtype=float32]sm_profile_wetness(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Total profile soil wetness (0 cm to model bedrock depth; wetness units). Soil wetness units (dimensionless) vary between 0 and 1, indicating relative saturation between completely dry conditions and completely saturated conditions, respectively.  See also Appendix E in the PSD.units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]sm_rootzone(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Root zone soil moisture (0-100 cm)units :m3 m-3valid_max :0.9valid_min :0.0[6262144 values with dtype=float32]sm_rootzone_pctl(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Root zone soil moisture (0-100 cm; percentile units)units :percentvalid_max :100.0valid_min :0.0[6262144 values with dtype=float32]sm_rootzone_wetness(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Root zone soil wetness (0-100 cm; wetness units). Soil wetness units (dimensionless) vary between 0 and 1, indicating relative saturation between completely dry conditions and completely saturated conditions, respectively.  See also Appendix E in the PSD.units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]sm_surface(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Top layer soil moisture (0-5 cm)units :m3 m-3valid_max :0.9valid_min :0.0[6262144 values with dtype=float32]sm_surface_wetness(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Top layer soil wetness (0-5 cm; wetness units). Soil wetness units (dimensionless) vary between 0 and 1, indicating relative saturation between completely dry conditions and completely saturated conditions, respectively.  See also Appendix E in the PSD.units :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]snow_depth(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Snow depth within snow-covered land fraction of grid cell (excluding areas of open water and permanent ice)units :mvalid_max :50.0valid_min :0.0[6262144 values with dtype=float32]snow_mass(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Average snow mass (or snow water equivalent) over land fraction of grid cell (excluding areas of open water and permanent ice)units :kg m-2valid_max :10000.0valid_min :0.0[6262144 values with dtype=float32]snow_melt_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Snowmelt (excluding areas of open water and permanent ice)units :kg m-2 s-1valid_max :0.05valid_min :0.0[6262144 values with dtype=float32]snowfall_surface_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Surface snow fallunits :kg m-2 s-1valid_max :0.05valid_min :0.0[6262144 values with dtype=float32]soil_temp_layer1(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 1 of soil heat diffusion modelunits :Kvalid_max :340.0valid_min :210.0[6262144 values with dtype=float32]soil_temp_layer2(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 2 of soil heat diffusion modelunits :Kvalid_max :330.0valid_min :210.0[6262144 values with dtype=float32]soil_temp_layer3(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 3 of soil heat diffusion modelunits :Kvalid_max :325.0valid_min :215.0[6262144 values with dtype=float32]soil_temp_layer4(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 4 of soil heat diffusion modelunits :Kvalid_max :325.0valid_min :220.0[6262144 values with dtype=float32]soil_temp_layer5(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 5 of soil heat diffusion modelunits :Kvalid_max :325.0valid_min :225.0[6262144 values with dtype=float32]soil_temp_layer6(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil temperature in layer 6 of soil heat diffusion modelunits :Kvalid_max :320.0valid_min :230.0[6262144 values with dtype=float32]soil_water_infiltration_flux(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Soil water infiltration rateunits :kg m-2 s-1valid_max :0.05valid_min :0.0[6262144 values with dtype=float32]specific_humidity_lowatmmodlay(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Air specific humidity at center height of lowest atmospheric model layerunits :kg kg-1valid_max :0.4valid_min :0.0[6262144 values with dtype=float32]surface_pressure(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Surface pressureunits :Pavalid_max :110000.0valid_min :40000.0[6262144 values with dtype=float32]surface_temp(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Mean land surface temperature (incl. snow-covered land area). Excluding areas of open water and permanent ice.units :Kvalid_max :350.0valid_min :180.0[6262144 values with dtype=float32]temp_lowatmmodlay(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Air temperature at center height of lowest atmospheric model layerunits :Kvalid_max :350.0valid_min :180.0[6262144 values with dtype=float32]vegetation_greenness_fraction(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Vegetation \"greenness\" or fraction of transpiring leaves averaged over the land area (excluding areas of open water and permanent ice) of the grid cellunits :dimensionlessvalid_max :1.0valid_min :0.0[6262144 values with dtype=float32]windspeed_lowatmmodlay(y, x)float32...DIMENSION_LABELS :[b'y', b'x']coordinates :/cell_lat /cell_lonfmissing_value :-9999.0grid_mapping :EASE2_global_projectionlong_name :Surface wind speed at center height of lowest atmospheric model layerunits :m s-1valid_max :60.0valid_min :-60.0[6262144 values with dtype=float32]Indexes: (0)Attributes: (0)\n\n\n\n# create the plot\nproj = ccrs.Projection(\"EPSG:6933\") # EASEGRID 2\nfig, (ax1, ax2) = plt.subplots(1,2, figsize=(12,4), dpi=130, facecolor=\"w\", subplot_kw=dict(projection=proj))\n\nca_bounds = [-12060785, -10902950, 3769089, 4995383]\n\nsnow_mass1 = ds1.snow_mass.where(ds1.snow_mass&gt;9.4)\nsnowax1 = ax1.pcolormesh(ds_loc1.x, ds_loc1.y, snow_mass1, vmax=200, cmap='Blues')\nplt.colorbar(snowax1, ax=ax1, label=\"snow mass (kg/m2)\")\nax1.add_feature(cfeature.STATES)\nax1.set_extent(ca_bounds, crs=proj)\nax1.set_title(f'Snow Mass {date1}')\n\nsnow_mass2 = ds2.snow_mass.where(ds2.snow_mass&gt;9.4)\nsnowax2 = ax2.pcolormesh(ds_loc2.x, ds_loc2.y, snow_mass2, vmax=200, cmap='Blues')\nplt.colorbar(snowax2, ax=ax2, label=\"snow mass (kg/m2)\")\nax2.add_feature(cfeature.STATES)\nax2.set_extent(ca_bounds, crs=proj)\nax2.set_title(f'Snow Mass {date2}')\nplt.show()"
  },
  {
    "objectID": "tutorials/Earthdata_Subset_and_Plot.html#appendix---subsetting-with-harmony",
    "href": "tutorials/Earthdata_Subset_and_Plot.html#appendix---subsetting-with-harmony",
    "title": "NASA Earthdata Cloud Clinic",
    "section": "Appendix - Subsetting with Harmony",
    "text": "Appendix - Subsetting with Harmony\n\nDefine area of interest\nFor this example, we will use a GeoJSON to specify a non-rectangular region instead of a simpler, rectangular bounding box.\n\nsf_geojson = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"properties\": {},\n            \"geometry\": {\n                \"coordinates\": [\n                    [\n                        [\n                            -122.5070795995562,\n                            37.17343508170461\n                        ],\n                        [\n                            -118.13461748565543,\n                            37.1521447785003\n                        ],\n                        [\n                            -118.17023835827376,\n                            38.94722002943203\n                        ],\n                        [\n                            -123.86067275905293,\n                            38.98184064006645\n                        ],\n                        [\n                            -122.5070795995562,\n                            37.17343508170461\n                        ]\n                    ]\n                ],\n                \"type\": \"Polygon\"\n            }\n        }\n    ]\n}\n\ngdf = gpd.GeoDataFrame.from_features(sf_geojson)\n\n\n# We define a Geoview Point so we can visualize the area of interest in relation to San Francisco\nsf = (-122.42, 37.77, 'SanFrancisco')\ncities_lonlat = gv.Points([sf], vdims='City')\n\n# Generate an image\nbase = gv.tile_sources.EsriImagery.opts(width=650, height=500)\nocean_map = gv.Polygons(gdf).opts(line_color='yellow', line_width=5, color=None)\nbase * ocean_map * cities_lonlat.options(size=20, color='red', marker='x')\n\n\n\n\n\n  \n\n\n\n\n\n\nCreating a Harmony request with spatial subsetting\n\nharmony_client = Client()\n\n\n# # collection_id=\"C1392010612-LPDAAC_ECS\"  # VIIRS\n# # &lt;https://cmr.earthdata.nasa.gov/search/concepts/C1392010612-LPDAAC_ECS.html?token=eyJ0eXAiOiJKV1QiLCJvcmlnaW4iOiJFYXJ0aGRhdGEgTG9naW4iLCJzaWciOiJlZGxqd3RwdWJrZXlfb3BzIiwiYWxnIjoiUlMyNTYifQ.eyJ0eXBlIjoiT0F1dGgiLCJjbGllbnRfaWQiOiJPTHBBWmxFNEhxSU9NcjBUWXFnN1VRIiwiZXhwIjoxNzAyMDU5NDMzLCJpYXQiOjE2OTk0Njc0MzMsImlzcyI6IkVhcnRoZGF0YSBMb2dpbiIsInVpZCI6ImRrYXVmYXMifQ.hG6RYjWQAMp-EBFFRFfhdaa45cc2WpfycDKnXHAMymbQoFYXeJJAL70qt-FVoVz5sXEGadtkHU6tqLVlVkNhM1rAWW8wgo08SBg-RjPBI66-wL1zwXxwzsmdRdWZd4sLt6GRpEjgd32N1H5YrZqvhxHwz3DPDZnLrMWeZAKa-tVQMg15gJ0aZCQ8c21b4sgze8dt-PJEZPvc74n5NdnvBisOPnaMa4d2DQBb2gjlE3IFK5GaO5qd6_TFXIQ8R0LApdiT_ZbMRmjRclMzNJT0V1ybrgf4LtuahykbZLPtnCqeb9jsqXbXcisyXUF2H2CfRdFiEwIQbR4a8LgrjQXsbA&gt;\n\n# #&lt;https://modaps.modaps.eosdis.nasa.gov/services/about/products/viirs-c2-nrt/VNP03MOD_nrt.html&gt;\n# request = Request(\n#     collection=Collection(id=\"VNP03MOD_NRT\"),  #Collection(id=sst_short_name),\n#     # shape=\"temp_geojson.json\", #json.dumps(sf_geojson),\n#     temporal={\n#         'start': dt.datetime(2023, 2, 24, 0),\n#         'stop': dt.datetime(2023, 2, 24, 23)   \n#     },\n# )\n\n\nsf_geojson_str = json.dumps(sf_geojson)\n\nwith open(\"temp_sf_geojson.json\", \"w+\") as f:\n    f.write(sf_geojson_str)\n\n\n# # GEDI L4A DOI \n# doi = '10.3334/ORNLDAAC/2056'\n\n# # CMR API base url\n# doisearch=f'https://cmr.earthdata.nasa.gov/search/collections.json?doi={doi}' \n# concept_id = requests.get(doisearch).json()['feed']['entry'][0]['id']\n# concept_id\n\n\n# b = gdf.total_bounds\n# # bounding box for Harmony\n# bounding_box = BBox(w=b[0], s=b[1], e=b[2], n=b[3])\n# bounding_box\n\n\n# collection = Collection(id=concept_id)\n# variables = ['/BEAM0101/agbd', \n#              '/BEAM0101/l4_quality_flag', \n#              '/BEAM0101/shot_number',\n#              '/BEAM0101/delta_time', \n#              '/BEAM0101/lat_lowestmode', \n#              '/BEAM0101/lon_lowestmode']\n# temporal_range = {'start': dt.datetime(2023, 2, 24), \n#                   'stop': dt.datetime(2023, 2, 26)}\n\n\n# request = Request(collection=collection, \n#                   variables=variables, \n#                   temporal=temporal_range,\n#                   spatial=bounding_box,\n#                   ignore_errors=True)\n\n# # submit harmony request, will return job id\n# subset_job_id = harmony_client.submit(request)\n\n# print(f'Processing job: {subset_job_id}')\n# harmony_client.wait_for_processing(job_id, show_progress=True)\n\n# print(f'Waiting for the job to finish')\n# results = harmony_client.result_json(subset_job_id, show_progress=True)\n\n# print(f'Downloading subset files...')\n# futures = harmony_client.download_all(subset_job_id, overwrite=False)\n# for f in futures:\n#     # all subsetted files have this suffix\n#     if f.result().endswith('subsetted.h5'):\n#         print(f'Downloaded: {f.result()}')\n            \n# print(f'Done downloading files.')\n\n\n# from glob import glob\n\n# import pandas as pd\n\n# import h5py\n\n\n# subset_df = pd.DataFrame()\n# for subfile in glob('*_subsetted.h5'):\n#     hf_in = h5py.File(subfile, 'r')\n#     beam = hf_in['BEAM0101']\n#     col_names = []\n#     col_val = []\n#     # read all variables\n#     for key, value in beam.items():\n#         col_names.append(key)\n#         col_val.append(value[:].tolist())\n\n#     # Appending to the subset_df dataframe\n#     beam_df = pd.DataFrame(map(list, zip(*col_val)), columns=col_names)\n#     subset_df = pd.concat([subset_df, beam_df])\n#     hf_in.close()\n# # print head of dataframe\n# subset_df.head()\n\n\n# gdf = gpd.GeoDataFrame(subset_df, geometry=gpd.points_from_xy(subset_df.lon_lowestmode, subset_df.lat_lowestmode))\n# gdf.crs=\"EPSG:4326\"\n# gdf_epsg3857 = gdf.to_crs(epsg=3857)\n\n# # fig, ax = plt.subplots(figsize=(7, 5))\n# proj = ccrs.PlateCarree()\n# fig, ax = plt.subplots(figsize=(8,5), dpi=130, facecolor=\"w\", subplot_kw=dict(projection=proj))\n# ax1=gdf_epsg3857.plot(color='white', edgecolor='red', alpha=0.3, linewidth=5, ax=ax) # figsize=(7, 5))\n# gdf_epsg3857[gdf_epsg3857['agbd'] != -9999][:-1].plot(ax=ax, column='agbd', alpha=0.1, linewidth=0, legend=True)\n# plt.margins(y=0.5, x=1.5)\n\n# ax.add_feature(cfeature.STATES)\n\n\n\nExample with DSCOVR-EPIC composite of multiple imagers on low Earth orbit (LEO) and geostationary (GEO) satellites\n\ncollection_id = \"C1576365803-LARC_ASDC\"  # EPIC-view satellite composites for DSCOVR, Version 1\ncapabilities_request = CapabilitiesRequest(collection_id=collection_id)\n\ncapabilities = harmony_client.submit(capabilities_request)\nprint(json.dumps(capabilities, indent=2))\n\n{\n  \"conceptId\": \"C1576365803-LARC_ASDC\",\n  \"shortName\": \"DSCOVR_EPIC_L2_COMPOSITE\",\n  \"variableSubset\": true,\n  \"bboxSubset\": true,\n  \"shapeSubset\": true,\n  \"concatenate\": false,\n  \"reproject\": false,\n  \"outputFormats\": [\n    \"application/netcdf\",\n    \"application/x-netcdf4\"\n  ],\n  \"services\": [\n    {\n      \"name\": \"podaac/l2-subsetter\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/S1962070864-POCLOUD\",\n      \"capabilities\": {\n        \"subsetting\": {\n          \"temporal\": true,\n          \"bbox\": true,\n          \"variable\": true,\n          \"shape\": true\n        },\n        \"output_formats\": [\n          \"application/netcdf\",\n          \"application/x-netcdf4\"\n        ]\n      }\n    }\n  ],\n  \"variables\": [\n    {\n      \"name\": \"clear_sky/BT_10.8um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260501-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/BT_12.0um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260503-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/BT_3.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260497-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/BT_6.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260499-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/LW_broadband_flux\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260508-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/pixel_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260489-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/ref_0.63um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260492-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/ref_0.86um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260494-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/skin_temperature\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260487-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/SW_broadband_albedo\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260505-LARC_ASDC\"\n    },\n    {\n      \"name\": \"clear_sky/SW_broadband_albedo_EPIC\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260514-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/band_680nm\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260429-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/centroid_mean_latitude\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260443-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/centroid_mean_longitude\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260448-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/ndvi\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260431-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/relative_azimuth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260439-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/solar_zenith\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260434-LARC_ASDC\"\n    },\n    {\n      \"name\": \"EPIC/view_zenith\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260436-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/lat\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260451-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/lon\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260453-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/MOA_skin_temperature\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260471-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/precipitable_water\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260468-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/relative_azimuth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260462-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/relative_time\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260464-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/satellite_ID\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260466-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/solar_zenith\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260457-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/surface_type_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260484-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/surface_type_index\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260482-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/surface_U_wind\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260477-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/surface_V_wind\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260479-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/vertical_temperature_change\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260475-LARC_ASDC\"\n    },\n    {\n      \"name\": \"general/view_zenith\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260459-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/albedo_epic\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260831-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/albedo_hidden\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260838-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/epic_view_mask\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260949-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/insolation_epic\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260863-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/insolation_hidden\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260875-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/LW_epic\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260887-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/LW_epic_dark\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260926-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/LW_hidden\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260910-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/mask_lat\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260937-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/mask_lon\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260943-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/SW_epic\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260842-LARC_ASDC\"\n    },\n    {\n      \"name\": \"global_flux/SW_hidden\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260849-LARC_ASDC\"\n    },\n    {\n      \"name\": \"granule_name_list\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260427-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/BT_10.8um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260533-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/BT_12.0um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260535-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/BT_3.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260528-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/BT_6.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260530-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_eff_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260548-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_eff_particle_size\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260546-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_eff_pressure\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260557-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_eff_temperature\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260554-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260542-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/cloud_top_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260551-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/log_cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260544-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/LW_broadband_flux\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260540-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/pixel_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260517-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/ref_0.63um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260520-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/ref_0.86um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260525-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/SW_broadband_albedo\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260537-LARC_ASDC\"\n    },\n    {\n      \"name\": \"ice_cloud/SW_broadband_albedo_EPIC\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260563-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/BT_10.8um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260798-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/BT_12.0um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260812-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/BT_3.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260740-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/BT_6.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260767-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/LW_broadband_flux\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260823-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/pixel_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260696-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/ref_0.63um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260699-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/ref_0.86um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260710-LARC_ASDC\"\n    },\n    {\n      \"name\": \"no_retrieval/SW_broadband_albedo\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260818-LARC_ASDC\"\n    },\n    {\n      \"name\": \"reference_time_MJD\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260423-LARC_ASDC\"\n    },\n    {\n      \"name\": \"reference_time_stamp\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260419-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/BT_10.8um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260648-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/BT_12.0um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260650-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/BT_3.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260628-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/BT_6.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260642-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_eff_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260677-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_eff_particle_size\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260670-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_eff_pressure\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260690-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_eff_temperature\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260684-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260657-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/cloud_top_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260680-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/log_cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260663-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/LW_broadband_flux\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260655-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/pixel_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260620-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/ref_0.63um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260623-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/ref_0.86um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260625-LARC_ASDC\"\n    },\n    {\n      \"name\": \"total_cloud/SW_broadband_albedo\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260653-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/BT_10.8um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260585-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/BT_12.0um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260587-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/BT_3.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260579-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/BT_6.75um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260582-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_eff_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260601-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_eff_particle_size\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260598-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_eff_pressure\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260616-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_eff_temperature\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260613-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260593-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/cloud_top_height\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260604-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/log_cloud_optical_depth\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260595-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/LW_broadband_flux\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260591-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/pixel_fraction\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260570-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/ref_0.63um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260573-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/ref_0.86um\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260575-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/SW_broadband_albedo\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260589-LARC_ASDC\"\n    },\n    {\n      \"name\": \"water_cloud/SW_broadband_albedo_EPIC\",\n      \"href\": \"https://cmr.earthdata.nasa.gov/search/concepts/V2801260618-LARC_ASDC\"\n    }\n  ],\n  \"capabilitiesVersion\": \"2\"\n}\n\n\n\n# &lt;https://cmr.earthdata.nasa.gov/search/concepts/C2179081499-GES_DISC.html?token=eyJ0eXAiOiJKV1QiLCJvcmlnaW4iOiJFYXJ0aGRhdGEgTG9naW4iLCJzaWciOiJlZGxqd3RwdWJrZXlfb3BzIiwiYWxnIjoiUlMyNTYifQ.eyJ0eXBlIjoiT0F1dGgiLCJjbGllbnRfaWQiOiJPTHBBWmxFNEhxSU9NcjBUWXFnN1VRIiwiZXhwIjoxNzAyMDU5NDMzLCJpYXQiOjE2OTk0Njc0MzMsImlzcyI6IkVhcnRoZGF0YSBMb2dpbiIsInVpZCI6ImRrYXVmYXMifQ.hG6RYjWQAMp-EBFFRFfhdaa45cc2WpfycDKnXHAMymbQoFYXeJJAL70qt-FVoVz5sXEGadtkHU6tqLVlVkNhM1rAWW8wgo08SBg-RjPBI66-wL1zwXxwzsmdRdWZd4sLt6GRpEjgd32N1H5YrZqvhxHwz3DPDZnLrMWeZAKa-tVQMg15gJ0aZCQ8c21b4sgze8dt-PJEZPvc74n5NdnvBisOPnaMa4d2DQBb2gjlE3IFK5GaO5qd6_TFXIQ8R0LApdiT_ZbMRmjRclMzNJT0V1ybrgf4LtuahykbZLPtnCqeb9jsqXbXcisyXUF2H2CfRdFiEwIQbR4a8LgrjQXsbA&gt;\n# collection_id=\"C2179081499-GES_DISC\"  # A different GPM product, that has Level-2 subsetting enabled.\n\n# collection_id=\"C1646610417-NSIDC_ECS\"  # MODIS/Terra Snow Cover Daily L3 Global 500m SIN Grid V061\n\n# collection_id=\"C2531308461-NSIDC_ECS\"  # SMAP L4 Global 3-hourly 9 km EASE-Grid Surface and Root Zone Soil Moisture Geophysical Data V007\n\n# collection_id=\"C2536962485-POCLOUD\"  # JPL GRACE and GRACE-FO Mascon Ocean, Ice, and Hydrology Equivalent Water Height Coastal Resolution Improvement (CRI) Filtered Release 06.1 Version 03\n\n# collection_id = \"C1940473819-POCLOUD\"  # GHRSST Level 2P Global Sea Surface Skin Temperature from the Moderate Resolution Imaging Spectroradiometer (MODIS) on the NASA Aqua satellite (GDS2)\n\n# collection_id = \"C1962643459-LARC_ASDC\"\ncollection_id = \"C1576365803-LARC_ASDC\"  # EPIC-view satellite composites for DSCOVR, Version 1\n\nrequest = Request(\n    collection=Collection(id=collection_id),  #Collection(id=sst_short_name),\n    shape=\"temp_sf_geojson.json\", #json.dumps(sf_geojson),\n    temporal={\n        'start': dt.datetime(2016, 2, 24, 0),\n        'stop': dt.datetime(2016, 2, 25, 23)   \n    },\n    variables=[\"general/relative_time\", \"general/precipitable_water\", \"clear_sky/skin_temperature\"]\n    # variables=[\"HS/PRE/snowIceCover\", \"HS/SLV/precipWater\", \"HS/SLV/precipWaterIntegrated\", \"HS/Latitude\", \"HS/Longitude\"]\n)\n\n\njob_id = harmony_client.submit(request)\njob_id\n\n'7fee1b6f-eb53-4996-9e34-c71b260c0b2b'\n\n\n\nharmony_client.status(job_id)\n\n{'status': 'running',\n 'message': 'The job is being processed',\n 'progress': 0,\n 'created_at': datetime.datetime(2023, 11, 13, 18, 0, 52, 672000, tzinfo=tzlocal()),\n 'updated_at': datetime.datetime(2023, 11, 13, 18, 0, 52, 672000, tzinfo=tzlocal()),\n 'created_at_local': '2023-11-13T18:00:52+00:00',\n 'updated_at_local': '2023-11-13T18:00:52+00:00',\n 'request': 'https://harmony.earthdata.nasa.gov/C1576365803-LARC_ASDC/ogc-api-coverages/1.0.0/collections/general%2Frelative_time,general%2Fprecipitable_water,clear_sky%2Fskin_temperature/coverage/rangeset?forceAsync=true&subset=time(%222016-02-24T00%3A00%3A00%22%3A%222016-02-25T23%3A00%3A00%22)',\n 'num_input_granules': 9,\n 'data_expiration': datetime.datetime(2023, 12, 13, 18, 0, 52, 672000, tzinfo=tzlocal()),\n 'data_expiration_local': '2023-12-13T18:00:52+00:00'}\n\n\n\nharmony_client.wait_for_processing(job_id, show_progress=True)\n\n [ Processing: 100% ] |###################################################| [|]\n\n\n\nharmony_client.status(job_id)\n\n{'status': 'successful',\n 'message': 'The job has completed successfully',\n 'progress': 100,\n 'created_at': datetime.datetime(2023, 11, 13, 18, 0, 52, 672000, tzinfo=tzlocal()),\n 'updated_at': datetime.datetime(2023, 11, 13, 18, 7, 3, 385000, tzinfo=tzlocal()),\n 'created_at_local': '2023-11-13T18:00:52+00:00',\n 'updated_at_local': '2023-11-13T18:07:03+00:00',\n 'request': 'https://harmony.earthdata.nasa.gov/C1576365803-LARC_ASDC/ogc-api-coverages/1.0.0/collections/general%2Frelative_time,general%2Fprecipitable_water,clear_sky%2Fskin_temperature/coverage/rangeset?forceAsync=true&subset=time(%222016-02-24T00%3A00%3A00%22%3A%222016-02-25T23%3A00%3A00%22)',\n 'num_input_granules': 9,\n 'data_expiration': datetime.datetime(2023, 12, 13, 18, 0, 52, 672000, tzinfo=tzlocal()),\n 'data_expiration_local': '2023-12-13T18:00:52+00:00'}\n\n\n\nresults = harmony_client.result_json(job_id, show_progress=True)\n# results\n\n [ Processing: 100% ] |###################################################| [|]\n\n\n\nprint('\\nDownloading results:')\nfutures = harmony_client.download_all(job_id)\n\nfilenames = []\nfor f in futures:\n    fn = f.result()\n    filenames.append(fn)\n    print(fn)  # f.result() is a filename, in this case\n\nprint('\\nDone downloading.')\n\n\nDownloading results:\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T163900Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T163900Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T004500Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T004500Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T222200Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T222200Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T184600Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T184600Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T165800Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T165800Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T182700Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T182700Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160226T010400Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160226T010400Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T203400Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160225T203400Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T201500Z_subsetted.nc4\nDSCOVR_EPIC_L2_COMPOSITE_01_20160224T201500Z_subsetted.nc4\n\nDone downloading.\n\n\n\nnew_ds_general = xr.open_dataset(filenames[0], group=\"general\", decode_times=False)\nnew_ds_general\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:             (Lines: 25, Pixels: 37)\nCoordinates:\n    lat                 (Lines, Pixels) float32 ...\n    lon                 (Lines, Pixels) float32 ...\nDimensions without coordinates: Lines, Pixels\nData variables:\n    relative_time       (Lines, Pixels) float64 ...\n    precipitable_water  (Lines, Pixels) float32 ...xarray.DatasetDimensions:Lines: 25Pixels: 37Coordinates: (2)lat(Lines, Pixels)float32...valid_range :[-90.  90.]long_name :latitudeunits :degrees_north[925 values with dtype=float32]lon(Lines, Pixels)float32...valid_range :[-180.  180.]long_name :longitudeunits :degrees_east[925 values with dtype=float32]Data variables: (2)relative_time(Lines, Pixels)float64...long_name :relative_timevalid_range :[-32767  32767]units :seconds since 2016-02-24 17:03:16calendar :proleptic_gregorian[925 values with dtype=float64]precipitable_water(Lines, Pixels)float32...long_name :MOA Precipitable Waterunits :cmvalid_range :[    0 50000][925 values with dtype=float32]Indexes: (0)Attributes: (0)\n\n\n\n# Flatten and remove null data points in preparation for plotting.\nlons = new_ds_general['lon'].values.flatten()\nlats = new_ds_general['lat'].values.flatten()\nvals = new_ds_general['precipitable_water'].values.flatten()\ngood_idcs = ~np.isnan(lons) & ~np.isnan(lats) & ~np.isnan(vals)\nlons = lons[good_idcs]\nlats = lats[good_idcs]\nvals = vals[good_idcs]\n\n\n# Create figure\nproj = ccrs.PlateCarree()\nfig, ax = plt.subplots(figsize=(6, 4), facecolor=\"w\", subplot_kw=dict(projection=proj))\n\nax_handle = ax.scatter(lons, lats, c=vals, cmap=\"cool\")\nplt.colorbar(ax_handle, ax=ax, label=\"precipitable water\")\n\nax.add_feature(cfeature.STATES)\nax.set_extent([-125, -113.0, 31.0, 43.0], crs=proj)\n# ax1.set_title(f'{date}')\n\nax.set_xticks([-125, -120, -115, -110], crs=proj)\nax.set_yticks([32, 34, 36, 38, 40, 42], crs=proj)\nlon_formatter = LongitudeFormatter(number_format='.1f',\n                                   degree_symbol='',\n                                   dateline_direction_label=True)\nlat_formatter = LatitudeFormatter(number_format='.1f',\n                                  degree_symbol='')\nax.xaxis.set_major_formatter(lon_formatter)\nax.yaxis.set_major_formatter(lat_formatter)\n\nplt.show()\n\n\n\n\n\n# new_ds_clear_sky = xr.open_dataset(filenames[0], group=\"clear_sky\")\n# new_ds_clear_sky\n\n\n# new_ds_clear_sky['skin_temperature'].plot()\n\n\n# new_ds_water_cloud = xr.open_dataset(filenames[0], group=\"water_cloud\")\n# new_ds_water_cloud\n\n\n# new_ds_gflux = xr.open_dataset(filenames[0], group=\"global_flux\")\n# new_ds_gflux\n\n\n# new_ds_epic = xr.open_dataset(filenames[0], group=\"EPIC\")\n# new_ds_epic\n\n\n# `new_ds = xr.open_dataset(filenames[0])\n# new_ds\n\n\n# new_ds_HS = xr.open_dataset(filenames[0], group=\"HS\")\n# new_ds_HS\n\n\n# new_ds_HS_PRE = xr.open_dataset(filenames[0], group=\"HS/PRE/\")\n# new_ds_HS_PRE\n\n\n# plt.pcolormesh(new_ds_HS['Longitude'], new_ds_HS['Latitude'], new_ds_HS_PRE['snowIceCover'])\n\n\n# new_ds_HS_PRE['snowIceCover'].plot()\n\n\n# gv_dataset = gv.Dataset(ds_subset, ['lon', 'lat', 'time'], 't2m')\n\n\n# gf.ocean * gf.land.options(scale='110m', global_extent=True) * gv_dataset\n\n\n# ds_subset.mean('time').plot(figsize=(10,6), x='lon', y='lat');\n\n\n# ds_subset.std('time').plot(figsize=(10,6), x='lon', y='lat');\n\n\n# data_link_list = []\n\n# for granule in results:\n#     for asset in granule.data_links(access='direct'):\n#         data_link_list.append(asset)\n\n# data_link_list[0:9]\n\n\n# search_params = {\n#     \"concept_id\": \"C2408009906-LPCLOUD\", # CMR concept ID for EMITL1BRAD.001\n#     #\"day_night_flag\": \"day\",\n#     \"cloud_cover\": (0, 10),\n#     \"temporal\": (\"2022-05\", \"2023-08\"),\n#     \"bounding_box\": (-99.65, 18.85, -98.5, 19.95)\n# }\n# results = earthaccess.search_data(**search_params)\n\n\n# collection_id = 'C2723754864-GES_DISC'\n# date_range = (\"2023-04-03\", \"2023-04-06\")\n# bbox = (-127.0761, 31.6444, -113.9039, 42.6310)\n\n# results = earthaccess.search_data(\n#     concept_id = collection_id,\n#     #cloud_hosted = True,\n#     temporal = date_range,\n#     bounding_box = bbox,\n# )\n\n# ds = xr.open_mfdataset(earthaccess.open(results))\n\n\n# ds_subset = ds['SLA'].sel(Latitude=slice(15.8, 35.9), Longitude=slice(234.5,260.5)) \n# ds_subset"
  },
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "The Enabling Analysis in the Cloud Using NASA Earth Science Data will take place on Sunday, December 10 from 13:00-16:30.\nZoom links will be shared directly with this group via a (calendar) meeting invite.\nNote, hands-on exercises will be executed from a Jupyter Lab instance in 2i2c. Click here to deploy the instance and simultaneously clone this GitHub repository to follow along with the tutorials. Please pass along your GitHub Username to get access."
  },
  {
    "objectID": "schedule.html#workshop-schedule",
    "href": "schedule.html#workshop-schedule",
    "title": "Schedule",
    "section": "Workshop Schedule",
    "text": "Workshop Schedule\n\nDecember 10, 2023\n\n\n\nTime, PST (UTC-7)\nEvent\nLeads/Instructors\n\n\n\n\n1:00 pm\nWelcome / Open Science Mindset\nCassie Nickles (PO.DAAC)\n\n\n1:20 pm\nIntroduction to NASA Earthdata Cloud\nMichele Thornton (ORNL DAAC)\n\n\n1:40 pm\nOrientation and setup in JupyterHub in the Cloud\nMichele Thornton (ORNL DAAC)\n\n\n2:00 pm\nTutorial: In-cloud Science Workflow: Search & Discovery\nAaron Friesz (LP DAAC)\n\n\n2:30 pm\nBreak\n\n\n\n2:45 pm\nTutorial: In-cloud Science Workflow: Access, Subset & Plot\nDanny Kaufman (ASDC DAAC)\n\n\n3:45 pm\nQ & A\nAll NASA Openscapes Mentors\n\n\n4:15 pm\nClosing Survey\nCassie Nickles (PO.DAAC)"
  },
  {
    "objectID": "schedule.html#closing---close-out-your-jupyter-hub",
    "href": "schedule.html#closing---close-out-your-jupyter-hub",
    "title": "Schedule",
    "section": "Closing - Close out your Jupyter Hub!",
    "text": "Closing - Close out your Jupyter Hub!\n\nClose out your JupyterHub instance if you are finished for the day, following these instructions.\nYou will continue to have access to the 2i2c JupyterHub in AWS for two weeks following this Workshop. You may use that time on your own to continue work and learn more about migrating data access routines and science workflows to the cloud. This cloud compute environment is supported by the NASA Openscapes project.\n\n\nThank you!"
  }
]